<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fruitful Innovations - Your Future, Today (Merged)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Leaflet CSS for OpenStreetMap (from Dashboard) -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
     integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
     crossorigin=""/>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        /* Define a consistent color palette for Dashboard components within the overall dark theme */
        :root {
            --primary-color: #22c55e; /* Vibrant green */
            --secondary-color: #3b82f6; /* Blue for accents */
            --dark-bg-dashboard: #1a1a1d; /* Deep charcoal for dashboard specific elements */
            --medium-dark-bg-dashboard: #2a2a2e; /* Slightly lighter charcoal for dashboard specifics */
            --card-bg-dashboard: #374151; /* Dark gray for dashboard cards */
            --text-light-dashboard: #e0e0e0;
            --text-muted-dashboard: #9ca3af;
            --border-color-dashboard: #4b5563;

            /* Banimal Specific Colors - softer, warmer palette */
            --banimal-soft-peach: #FFF0ED; /* A soft, warm background tone */
            --banimal-soft-pink: #F8DCDC;
            --banimal-accent-blue: #66B2FF; /* A gentle blue */
            --banimal-dark-text: #333333;
            --banimal-muted-text: #666666;
            --banimal-cream: #FFFAF5;
            --banimal-button-green: #90EE90; /* Soft green for the new button */

            /* Consolidated Fruitful Logo Color (now white) */
            --fruitful-corporate-white: #ffffff;

            /* RiteNest Specific Colors (from RiteNest Dashboard) */
            --ritenest-bg: #f0fdf4; /* Light green background */
            --ritenest-text-primary: #1f2937; /* Dark gray for primary text */
            --ritenest-header-bg: #047857; /* Deep forest green */
            --ritenest-brand-heading: #065f46; /* Darker green for brand */
            --ritenest-card-bg: #d1fae5; /* Lighter green for cards */
            --ritenest-primary-btn: #065f46;
            --ritenest-primary-btn-hover: #047857;
            --ritenest-text-accent: #065f46; /* RiteNest green for accents */
            --ritenest-subnode-card-bg: #ecfdf5; /* Even lighter green */
            --ritenest-subnode-card-border: #a7f3d0; /* Green border */
        }

        /* Base Styles - Cooler, darker, more vibrant (from Landing Page, prioritized) */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0d1117; /* Darker base background */
            color: #e2e8f0; /* Lighter text for contrast */
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden; /* Prevent horizontal scroll */
            display: flex; /* Make body a flex container for full height */
            flex-direction: column;
            min-height: 100vh;
        }

        /* Custom Scrollbar Styling for Dark Theme */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #1a1b20; /* Darker track */
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #4a4d5c; /* Muted gray thumb */
            border-radius: 10px;
            transition: background 0.3s ease;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6b6e7f; /* Lighter on hover */
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Header - Sleek and modern */
        header {
            background-color: rgba(26, 32, 44, 0.9); /* Darker, slightly transparent */
            backdrop-filter: blur(12px); /* Stronger frosted glass */
            border-bottom: 1px solid rgba(255, 255, 255, 0.1); /* More visible border */
            padding-top: 1.2rem;
            padding-bottom: 1.2rem;
            box-shadow: 0 2px 15px rgba(0,0,0,0.4); /* Deeper shadow */
            position: sticky;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 50;
            display: flex; /* Ensure it's a flex container */
            justify-content: space-between; /* Space out logo and nav */
            align-items: center;
        }
        header h1 {
            color: #e2e8f0; /* Light text for logo */
            font-weight: 800;
            font-size: 1.6rem;
            letter-spacing: -0.03em;
            background: linear-gradient(90deg, #6366f1, #a855f7); /* Vibrant gradient for logo text */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        header nav a {
            color: #a0aec0; /* Muted gray for nav links */
            font-size: 0.95rem;
            font-weight: 500;
            padding: 0.6rem 1rem;
            border-radius: 8px; /* Softer rounding */
            transition: all 0.2s ease-in-out;
            position: relative;
        }
        header nav a:hover {
            color: #e2e8f0; /* Brighter on hover */
            background-color: rgba(99, 102, 241, 0.1); /* Subtle purple tint on hover */
            transform: translateY(-2px); /* Slight lift */
        }
        header nav a::after { /* Underline effect */
            content: '';
            position: absolute;
            left: 50%;
            bottom: -2px;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, #a855f7, #6366f1);
            transition: all 0.3s ease-out;
            transform: translateX(-50%);
            border-radius: 1px;
        }
        header nav a:hover::after {
            width: 80%;
        }
        header nav a.bg-purple-600 { /* Sign Up button */
            background: linear-gradient(90deg, #6366f1, #a855f7); /* Vibrant gradient */
            color: white;
            padding: 0.7rem 1.4rem;
            border-radius: 25px; /* More pill-shaped */
            font-weight: 700;
            font-size: 0.95rem;
            box-shadow: 0 3px 10px rgba(0,0,0,0.3);
            transition: all 0.3s ease-out;
        }
        header nav a.bg-purple-600:hover {
            filter: brightness(1.15);
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.4), 0 0 15px rgba(168, 85, 247, 0.5); /* Subtle glow */
        }
        /* Active link for both landing page sections and dashboard toggle */
        .header-nav-active {
            color: white !important;
            font-weight: 700 !important;
        }
        .header-nav-active::after {
            width: 100% !important;
            background: linear-gradient(90deg, #c084fc, #8b5cf6) !important;
        }

        /* Hero Section - Dynamic and impactful */
        .hero-section {
            background: linear-gradient(135deg, #1f215a, #2b2d74, #3b0764); /* Deeper, richer gradient */
            min-height: 80vh;
            padding: 8rem 2rem;
            border-bottom-left-radius: 60px;
            border-bottom-right-radius: 60px;
            box-shadow: 0 15px 50px rgba(0,0,0,0.7);
            color: #e2e8f0;
            position: relative;
            overflow: hidden;
            animation: fadeInScale 1s ease-out;
        }
        .hero-section::before { /* Animated background pattern */
            content: '';
            position: absolute;
            top: -20%;
            left: -20%;
            width: 140%;
            height: 140%;
            background: radial-gradient(circle at 50% 50%, rgba(168, 85, 247, 0.1), transparent 70%),
                        radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.1), transparent 70%);
            animation: rotateAndZoom 40s linear infinite;
            opacity: 0.6;
            z-index: 1;
        }
        @keyframes fadeInScale {
            from { opacity: 0; transform: scale(0.98); }
            to { opacity: 1; transform: scale(1); }
        }
        @keyframes rotateAndZoom {
            0% { transform: rotate(0deg) scale(1); }
            50% { transform: rotate(180deg) scale(1.05); }
            100% { transform: rotate(360deg) scale(1); }
        }
        .hero-content {
            z-index: 10;
            position: relative;
        }
        .hero-section h2 {
            font-size: 4.5rem; /* Even larger, bolder headline */
            font-weight: 900;
            letter-spacing: -0.04em;
            line-height: 1.05;
            text-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        .hero-section h2 span {
            background: linear-gradient(90deg, #fcd34d, #f97316); /* Warm gradient accent */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .hero-section p {
            font-size: 1.3rem;
            font-weight: 300; /* Lighter weight for body text */
            color: #d1d8e0; /* Slightly muted white */
            margin-top: 2rem;
            margin-bottom: 3rem;
            max-width: 900px;
        }
        .cta-button {
            display: inline-flex; /* Changed from landing to match banimal button */
            align-items: center; /* Changed from landing to match banimal button */
            gap: 10px; /* Changed from landing to match banimal button */
            background: linear-gradient(90deg, #8b5cf6, #c084fc); /* Brighter purple gradient */
            color: white;
            padding: 1rem 2.5rem;
            border-radius: 30px;
            font-weight: 700;
            font-size: 1.15rem;
            transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            box-shadow: 0 5px 20px rgba(0,0,0,0.4);
            letter-spacing: 0.05em;
            text-transform: uppercase;
        }
        .cta-button:hover {
            filter: brightness(1.2);
            transform: translateY(-4px) scale(1.02);
            box-shadow: 0 8px 25px rgba(0,0,0,0.5), 0 0 25px rgba(192, 132, 252, 0.8); /* Stronger glow */
        }
        .cta-button span { /* Re-add emoji for "cooler" vibe if desired */
            display: inline-block;
            margin-left: 0.5rem;
            animation: bounceEmoji 1s infinite alternate;
        }
        @keyframes bounceEmoji {
            from { transform: translateY(0); }
            to { transform: translateY(-3px); }
        }


        /* Sections - Layered and defined */
        .landing-section { /* Applied to all main landing sections */
            padding: 8rem 2rem;
            background-color: #121317; /* Darker section background */
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2); /* Inner shadow for depth */
            border-bottom: 1px solid rgba(255,255,255,0.08); /* Subtle separator */
            color: #e2e8f0;
        }
        .landing-section:nth-of-type(odd) { /* Alternate background for sections */
            background-color: #0d1117;
        }
        .landing-section:last-of-type {
            border-bottom: none;
        }
        .landing-section h2, .landing-section h3 {
            color: #e2e8f0;
            font-weight: 800;
            letter-spacing: -0.03em;
            margin-bottom: 2.5rem;
            font-size: 2.8rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        .landing-section p {
            color: #a0aec0;
            font-size: 1.15rem;
            line-height: 1.6;
        }

        /* Feature Cards - Glowing and interactive */
        .feature-card {
            background-color: #1a1b20; /* Dark card background */
            border-radius: 16px;
            padding: 2.5rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.6);
            transition: transform 0.3s cubic-bezier(0.2, 0.8, 0.2, 1), box-shadow 0.3s ease-in-out, border-color 0.3s ease;
            border: 1px solid rgba(255,255,255,0.1);
        }
        .feature-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.7), 0 0 25px rgba(168, 85, 247, 0.5); /* Stronger glow on hover */
            border-color: #a855f7; /* Purple border on hover */
        }
        .feature-card div:first-child { /* Icon */
            font-size: 3rem;
            margin-bottom: 1.5rem;
            color: #00bfff; /* Electric blue for icons */
            text-shadow: 0 0 15px rgba(0, 191, 255, 0.6); /* Icon glow */
        }
        .feature-card h4 {
            font-size: 1.4rem;
            font-weight: 700;
            color: #e2e8f0;
            margin-bottom: 0.75rem;
        }
        .feature-card p {
            font-size: 1rem;
            color: #a0aec0;
        }

        /* Share Signal Section - Digital display feel */
        #shareprice {
            background-color: #1a1b20;
            color: #e2e8f0;
            padding: 5rem 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2);
        }
        #shareprice h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            color: #e2e8f0;
        }
        #price {
            font-size: 4rem;
            font-weight: 800;
            color: #00e393; /* Neon green for price */
            letter-spacing: -0.03em;
            text-shadow: 0 0 20px rgba(0, 227, 147, 0.6); /* Strong glow */
            animation: pricePulse 2s infinite alternate;
        }
        @keyframes pricePulse {
            from { text-shadow: 0 0 10px rgba(0, 227, 147, 0.4); }
            to { text-shadow: 0 0 25px rgba(0, 227, 147, 0.8); }
        }
        #timestamp {
            color: #a0aec0;
            font-size: 0.9rem;
        }

        /* Seedwave Growth - Dynamic chart */
        #seedwave {
            background-color: #0d1117;
            padding: 6rem 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2);
        }
        #seedwave h2 {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 3rem;
            color: #e2e8f0;
        }
        #seedwave .w-full {
            background-color: #1a1b20;
            border: 1px solid rgba(255,255,255,0.15);
            padding: 2rem;
            border-radius: 16px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.6);
        }

        /* Founder's Note - Evocative text block */
        .landing-section.bg-gray-700 { /* Founder's Note */
            background-color: #121317;
            color: #e2e8f0;
            padding: 6rem 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2);
        }
        .landing-section.bg-gray-700 h2 {
            font-size: 3rem;
            font-weight: 800;
            color: #e2e8f0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
            animation: textGlow 3s infinite alternate;
        }
        @keyframes textGlow {
            from { text-shadow: 0 0 5px rgba(255,255,255,0.2); }
            to { text-shadow: 0 0 15px rgba(255,255,255,0.5); }
        }
        .landing-section.bg-gray-700 p {
            font-size: 1.2rem;
            color: #a0aec0;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        .landing-section.bg-gray-700 p.italic {
            color: #b0b8c4;
            font-style: italic;
        }
        .landing-section.bg-gray-700 p.font-semibold {
            color: #00bfff; /* Electric blue signature */
            font-weight: 600;
            margin-top: 2.5rem;
            text-shadow: 0 0 8px rgba(0, 191, 255, 0.4);
        }

        /* Vault Terminal Access - Futuristic interface */
        #vault-access {
            background-color: #0d1117;
            padding: 6rem 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2);
        }
        #vault-access h3 {
            font-size: 2.8rem;
            font-weight: 800;
            color: #e2e8f0;
            margin-bottom: 3rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        #vault-access .w-full.h-\[800px\] { /* Iframe container */
            background-color: #000000;
            border: 3px solid #00e393; /* Neon green border */
            border-radius: 12px;
            box-shadow: 0 0 30px rgba(0, 227, 147, 0.5); /* Stronger glow */
            overflow: hidden;
        }
        .terminal-btn {
            background-color: #1a1b20;
            color: #00bfff; /* Electric blue text */
            padding: 1.2rem 1.8rem;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 10px rgba(0,0,0,0.4);
            border: 1px solid #333333;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .terminal-btn:hover {
            background-color: #2a2c33;
            color: #e2e8f0;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.5), 0 0 20px rgba(0, 191, 255, 0.6);
            border-color: #00bfff;
        }
        .terminal-btn.ring { /* Active state */
            border-color: #00e393; /* Neon green active ring */
            box-shadow: 0 0 0 3px rgba(0, 227, 147, 0.5);
        }

        /* Sector Scrolls - Grid of glowing links */
        .landing-section.bg-gray-800.text-center { /* Sector Scrolls */
            background-color: #121317;
            padding: 6rem 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2);
        }
        .landing-section.bg-gray-800.text-center h2 {
            font-size: 2.8rem;
            font-weight: 800;
            margin-bottom: 3rem;
            color: #e2e8f0;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        .glyph {
            background-color: #1a1b20;
            color: #00bfff; /* Electric blue text */
            padding: 1rem 1.5rem;
            border-radius: 10px;
            font-weight: 600;
            transition: all 0.2s ease-in-out;
            box-shadow: 0 2px 10px rgba(0,0,0,0.4);
            border: 1px solid #333333;
        }
        .glyph:hover {
            background-color: #2a2c33;
            color: #e2e8f0;
            transform: translateY(-3px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.5), 0 0 15px rgba(0, 191, 255, 0.5);
            border-color: #00bfff;
        }

        /* Treaty Section - Powerful statement */
        #treaty {
            background-color: #0d1117;
            padding: 6rem 2rem;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2);
        }
        #treaty h2 {
            font-size: 2.8rem;
            font-weight: 800;
            color: #e2e8f0;
            margin-bottom: 2rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        #treaty p {
            font-size: 1.2rem;
            color: #a0aec0;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 2.5rem;
        }
        #treaty blockquote {
            font-size: 1.8rem;
            color: #00e393; /* Neon green for quote */
            font-weight: 700;
            line-height: 1.4;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            text-shadow: 0 0 15px rgba(0, 227, 147, 0.5);
        }
        #treaty blockquote::before, #treaty blockquote::after {
            content: '‚Äú';
            font-size: 3em;
            line-height: 0.1;
            vertical-align: -0.4em;
            color: #333333; /* Muted quote color */
            margin-right: 0.1em;
        }
        #treaty blockquote::after {
            content: '‚Äù';
            margin-left: 0.05em;
        }

        /* Signal Packet - Hacker console feel */
        .landing-section.py-10.text-xs.text-center { /* Signal Packet */
            background-color: #0a0a0a;
            color: #00e393;
            padding: 4rem 2rem;
            border-bottom: 1px solid #333;
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.4);
        }
        .landing-section.py-10.text-xs.text-center pre {
            background-color: #000000;
            border: 1px solid #00e393; /* Neon green border */
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 0 20px rgba(0, 227, 147, 0.4); /* Strong glow */
            white-space: pre-wrap;
            word-break: break-all;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            font-size: 0.9rem;
        }

        /* VaultMesh Executive Summary - Structured and powerful */
        #vaultmesh {
            background-color: #121317;
            padding: 6rem 2rem;
            color: #e2e8f0;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2);
        }
        #vaultmesh h2 {
            font-size: 2.8rem;
            font-weight: 800;
            color: #e2e8f0;
            margin-bottom: 2rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        #vaultmesh h2.text-purple-400 {
            background: linear-gradient(90deg, #8b5cf6, #c084fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        #vaultmesh h3 {
            font-size: 1.6rem;
            font-weight: 700;
            color: #e2e8f0;
            margin-top: 3rem;
            margin-bottom: 1.2rem;
        }
        #vaultmesh p {
            font-size: 1.1rem;
            color: #a0aec0;
            line-height: 1.6;
        }
        #vaultmesh ul {
            list-style-type: none; /* Remove default bullets */
            padding-left: 0;
            margin-left: 0;
            color: #a0aec0;
        }
        #vaultmesh ul li {
            font-size: 1.1rem;
            margin-bottom: 0.75rem;
            position: relative;
            padding-left: 1.5rem;
        }
        #vaultmesh ul li::before { /* Custom bullet point */
            content: '‚Ä¢';
            position: absolute;
            left: 0;
            color: #00bfff; /* Electric blue bullet */
            font-size: 1.2em;
            line-height: 1;
            top: 0.1em;
        }
        #vaultmesh ul.list-decimal li::before { /* Ensure decimal still works if applied */
            content: counter(list-item) ".";
            color: #00e393; /* Neon green for numbered lists */
        }
        #vaultmesh code {
            background-color: #2a2c33;
            padding: 0.3em 0.6em;
            border-radius: 6px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, Courier, monospace;
            color: #00e393;
            border: 1px solid #444444;
        }

        /* About Section - Clean and impactful */
        #about {
            background-color: #0d1117;
            padding: 6rem 2rem;
            color: #e2e8f0;
            border-bottom: 1px solid rgba(255,255,255,0.08);
            box-shadow: inset 0 5px 20px rgba(0,0,0,0.2);
        }
        #about h3 {
            font-size: 2.8rem;
            font-weight: 800;
            color: #e2e8f0;
            margin-bottom: 2rem;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        #about p {
            font-size: 1.2rem;
            color: #a0aec0;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Call to Action Section - Bold and inviting */
        #cta-landing { /* Renamed to avoid conflict with dashboard CTA button */
            background: linear-gradient(135deg, #3b0764, #5b21b6, #7c3aed); /* Strong purple gradient */
            padding: 8rem 2rem;
            color: white;
            text-align: center;
            border-top-left-radius: 60px; /* Rounded top corners */
            border-top-right-radius: 60px;
            box-shadow: 0 -15px 50px rgba(0,0,0,0.7);
        }
        #cta-landing h3 {
            font-size: 3.5rem;
            font-weight: 900;
            color: white;
            margin-bottom: 2rem;
            line-height: 1.1;
            text-shadow: 0 4px 15px rgba(0,0,0,0.5);
        }
        #cta-landing p {
            font-size: 1.3rem;
            color: #e2e8f0;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            margin-bottom: 3rem;
        }
        #cta-landing .cta-button {
            background: #00e393; /* Neon green button */
            color: #1a1a1a;
            padding: 1.2rem 3rem;
            border-radius: 30px;
            font-weight: 800;
            font-size: 1.25rem;
            transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
            box-shadow: 0 5px 20px rgba(0,0,0,0.4);
            letter-spacing: 0.08em;
            text-transform: uppercase;
        }
        #cta-landing .cta-button:hover {
            filter: brightness(1.2);
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 8px 25px rgba(0,0,0,0.5), 0 0 30px rgba(0, 227, 147, 0.8);
        }
        #cta-landing .cta-button span {
            display: inline-block;
            margin-left: 0.75rem;
            animation: bounceEmoji 1s infinite alternate;
        }

        /* Footer - Subtly integrated */
        footer {
            background-color: #0a0a0a;
            color: #6e6e73;
            padding: 2.5rem;
            font-size: 0.9rem;
            border-top: 1px solid rgba(255,255,255,0.05);
            box-shadow: inset 0 5px 15px rgba(0,0,0,0.3);
            text-align: center;
        }
        footer a {
            color: #6e6e73;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        footer a:hover {
            color: #e2e8f0;
        }

        /* Dashboard Specific Styles (Adapted for overall theme) */
        #fruitful-dashboard-wrapper {
            background-color: #0d1117; /* Use main body background for wrapper */
        }
        .dashboard-header-bg { background-color: var(--medium-dark-bg-dashboard); }
        .dashboard-sidebar-bg { background-color: var(--medium-dark-bg-dashboard); }
        .dashboard-main-content-bg { background-color: #121317; } /* Use a slightly different dark tone */
        .dashboard-card-bg { background-color: var(--card-bg-dashboard); }
        .dashboard-primary-text { color: var(--primary-color); }
        .dashboard-secondary-text { color: var(--secondary-color); }
        .dashboard-muted-text { color: var(--text-muted-dashboard); }
        .dashboard-border-dark { border-color: var(--border-color-dashboard); }
        .dashboard-hover-bg-light { background-color: rgba(255, 255, 255, 0.1); }

        /* Responsive adjustments for Dashboard elements */
        .dashboard-container {
            display: flex;
            flex-grow: 1; /* Allow dashboard container to grow */
        }
        .dashboard-sidebar {
            width: 64; /* Tailwind w-64 */
            padding: 1.5rem; /* Tailwind p-6 */
            border-right: 1px solid var(--border-color-dashboard);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 1rem; /* Tailwind space-y-4 converted to gap */
        }
        .dashboard-sidebar-nav-item {
            display: flex;
            align-items: center;
            gap: 0.75rem; /* Tailwind gap-3 */
            width: 100%;
            padding: 0.75rem; /* Tailwind p-3 */
            border-radius: 0.5rem; /* Tailwind rounded-lg */
            font-size: 1.125rem; /* Tailwind text-lg */
            font-weight: 500; /* Tailwind font-medium */
            transition: all 0.2s;
            color: var(--text-light-dashboard);
        }
        .dashboard-sidebar-nav-item:hover {
             background-color: var(--hover-bg-light);
        }

        .dashboard-active-nav-item {
            background-color: var(--primary-color);
            color: white !important;
        }
        .dashboard-active-nav-item:hover {
            background-color: var(--primary-color) !important;
        }

        .dashboard-main-content {
            flex-grow: 1;
            padding: 2rem; /* Tailwind p-8 */
            overflow-y: auto;
        }

        /* Music Sub-Sidebar */
        .music-sub-sidebar {
            width: 48; /* Tailwind w-48 */
            padding: 1rem; /* Tailwind p-4 */
            border-right: 1px solid var(--border-color-dashboard);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 0.75rem; /* Tailwind space-y-3 */
            margin-right: 2rem; /* Tailwind mr-8 */
        }
        .music-sub-sidebar .dashboard-sidebar-nav-item {
            font-size: 1rem; /* Tailwind text-base */
            padding: 0.5rem; /* Tailwind p-2 */
            gap: 0.5rem; /* Tailwind gap-2 */
        }
        .music-content-area {
            flex-grow: 1;
        }

        /* Dashboard Card Styles */
        .dashboard-card {
            padding: 1.5rem; /* Tailwind p-6 */
            background-color: var(--card-bg-dashboard);
            border-radius: 0.5rem; /* Tailwind rounded-lg */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1); /* Tailwind shadow-xl */
            border: 1px solid var(--border-color-dashboard);
        }
        .dashboard-sub-card {
            padding: 1.25rem; /* Tailwind p-5 */
            background-color: #4a5568; /* a bit lighter gray for internal cards */
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .api-key-warning {
            color: #ef4444; /* red-500 */
            background-color: #fecaca; /* red-200 */
            border-left: 4px solid #ef4444;
            padding: 1rem;
            margin-top: 1rem;
            font-weight: 600;
        }
        /* Styles for map containers */
        gmp-map, #leaflet-map-container { /* Updated selector for gmp-map */
            height: 400px; /* Adjust height as needed */
            width: 100%;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            background-color: #374151; /* card-bg */
        }


        /* Responsive Adjustments (from Dashboard CSS, adapted) */
        @media (max-width: 768px) {
            .dashboard-sidebar {
                width: 100%;
                height: auto;
                border-right: none;
                border-bottom: 1px solid var(--border-color-dashboard);
                padding-bottom: 1rem;
            }
            .dashboard-sidebar-nav-item {
                justify-content: center; /* Center items on small screens */
            }
            .dashboard-container {
                flex-direction: column;
            }
            .dashboard-main-content {
                width: 100%;
            }
            .grid-cols-2-md {
                grid-template-columns: 1fr; /* Stack columns on small screens */
            }
            /* Adjust main content padding when sidebars stack */
            .dashboard-main-content-wrapper {
                flex-direction: column;
            }
            .music-sub-sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-color-dashboard);
                padding-bottom: 1rem;
            }
            .music-content-area {
                width: 100%;
            }
        }

        /* RiteNest Specific Styles (copied from RiteNest dashboard, prefixed for uniqueness) */
        .ritenest-section-bg { background-color: var(--ritenest-bg); }
        .ritenest-text-primary { color: var(--ritenest-text-primary); }
        .ritenest-header-bg { background-color: var(--ritenest-header-bg); }
        .ritenest-brand-heading { color: var(--ritenest-brand-heading); }
        .ritenest-card-bg { background-color: var(--ritenest-card-bg); }
        .ritenest-primary-btn {
            background-color: var(--ritenest-primary-btn);
            color: white;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }
        .ritenest-primary-btn:hover {
            background-color: var(--ritenest-primary-btn-hover);
            transform: translateY(-1px);
        }
        .ritenest-text-accent { color: var(--ritenest-text-accent); }
        .ritenest-subnode-card {
            background-color: var(--ritenest-subnode-card-bg);
            border: 1px solid var(--ritenest-subnode-card-border);
        }
        .ritenest-provenance-step {
            background-color: var(--ritenest-subnode-card-bg);
            border-left: 4px solid var(--ritenest-primary-btn);
            padding: 1rem;
            border-radius: 0.5rem;
            position: relative;
        }
        .ritenest-provenance-step::before {
            content: '';
            position: absolute;
            left: -10px;
            top: 50%;
            transform: translateY(-50%);
            width: 20px;
            height: 20px;
            background-color: var(--ritenest-primary-btn);
            border-radius: 50%;
            border: 3px solid var(--ritenest-card-bg);
        }
        .ritenest-discussion-post {
            background-color: var(--ritenest-subnode-card-bg);
            border: 1px solid var(--ritenest-subnode-card-border);
            border-radius: 0.5rem;
            padding: 1rem;
        }
        /* RiteNest Tab navigation styles */
        .ritenest-tab-nav-item {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
            white-space: nowrap; /* Prevent wrapping */
        }
        .ritenest-tab-nav-item.active {
            background-color: var(--ritenest-primary-btn);
            color: white;
        }
        .ritenest-tab-nav-item:not(.active):hover {
            background-color: var(--ritenest-card-bg);
            color: var(--ritenest-primary-btn);
        }
        .ritenest-tab-content {
            display: none;
        }
        .ritenest-tab-content.active {
            display: block;
        }
    </style>
</head>
<body>

    <header class="py-4 px-6 md:px-12 flex justify-between items-center text-white">
        <h1 class="text-2xl font-extrabold tracking-tight">Fruitful‚Ñ¢</h1>
        <nav class="flex items-center space-x-4">
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="hero-section">Home</a>
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="features">Features</a>
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="shareprice">Signal</a>
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="vault-access">Vault</a>
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="treaty">Treaty</a>
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="vaultmesh">VaultMesh</a>
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="about">About</a>
            <a href="javascript:void(0)" class="header-nav-item px-4 py-2 rounded-full font-semibold transition-colors duration-200" data-section-id="cta-landing">Sign Up</a>
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="fruitful-dashboard-wrapper">Dashboard</a>
            <a href="javascript:void(0)" class="header-nav-item transition-colors duration-200" data-section-id="banimal-landing-page">Banimal</a>
        </nav>
    </header>

    <!-- Landing Page Sections -->
    <section id="hero-section" class="landing-section text-center">
        <div class="hero-content">
            <h2 class="text-5xl md:text-6xl font-extrabold mb-6 leading-tight">
                Innovate. Connect. <span class="text-yellow-300">Thrive.</span>
            </h2>
            <p class="text-xl md:text-2xl mb-10 max-w-2xl mx-auto">
                Discover a new era of collaboration and sustainable growth with Fruitful's cutting-edge platform.
            </p>
            <a href="javascript:void(0)" class="cta-button" data-section-id="cta-landing">
                Get Started Today <span>üöÄ</span>
            </a>
        </div>
    </section>

    <section id="features" class="landing-section py-16 md:py-24 px-6 md:px-12 text-center">
        <div class="max-w-6xl mx-auto">
            <h3 class="text-4xl font-bold text-center mb-16">
                Unlock Your Potential with Our Core Features
            </h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="feature-card">
                    <div>üí°</div>
                    <h4>AI-Powered Insights</h4>
                    <p>
                        Leverage advanced AI to gain deep insights, optimize operations, and make smarter decisions.
                    </p>
                </div>
                <div class="feature-card">
                    <div>ü§ù</div>
                    <h4>Global Collaboration</h4>
                    <p>
                        Connect with thousands of independent brands and partners worldwide, fostering a network of mutual growth.
                    </p>
                </div>
                <div class="feature-card">
                    <div>üå±</div>
                    <h4>Sustainable Solutions</h4>
                    <p>
                        Champion eco-friendly practices and contribute to a healthier planet through our curated marketplace.
                    </p>
                </div>
                <div class="feature-card">
                    <div>üîí</div>
                    <h4>Secure VaultMesh‚Ñ¢</h4>
                    <p>
                        Protect your data and transactions with our state-of-the-art blockchain-inspired security protocols.
                    </p>
                </div>
                <div class="feature-card">
                    <div>üìà</div>
                    <h4>Real-time Analytics</h4>
                    <p>
                        Monitor your progress and impact with intuitive dashboards and real-time performance metrics.
                    </p>
                </div>
                <div class="feature-card">
                    <div>üåê</div>
                    <h4>OmniScroll Integration</h4>
                    <p>
                        Seamlessly integrate with our OmniScroll ledger for transparent and efficient record-keeping.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <section id="shareprice" class="landing-section py-12 text-center">
        <h2 class="text-3xl font-semibold mb-2">FAA‚Ñ¢ Share Signal</h2>
        <div id="price" class="text-5xl font-bold">$88.88</div>
        <div class="text-sm text-gray-400 mt-1">Last updated: <span id="timestamp">Live</span></div>
    </section>

    <section id="seedwave" class="landing-section py-16 px-6 text-center">
        <h2 class="text-4xl font-bold mb-8">üå± Seedwave Brand Growth üå±</h2>
        <div class="w-full max-w-4xl mx-auto p-6 rounded-xl shadow-lg">
            <canvas id="brandChart"></canvas>
        </div>
    </section>

    <section id="founder-glyph" class="landing-section py-16 px-6 text-center bg-gray-700">
        <h2 class="text-4xl font-bold mb-6">üß¨ Founder's Glyph‚Ñ¢</h2>
        <p class="max-w-3xl mx-auto text-xl leading-relaxed">
            FAA‚Ñ¢ wasn‚Äôt built like a typical startup. It emerged ‚Äî out of silence, out of signal, out of glyphs and patterns that refused to be ignored.
            What you're seeing isn't a site. It‚Äôs a vault interface. A codebase of culture. A trust-machine powered by real human intelligence.
        </p>
        <p class="mt-6 max-w-2xl mx-auto italic">
            Where others scale with speed, we scale with meaning. Every brand here agreed to something deeper than growth ‚Äî they signed a Treaty.
            That‚Äôs why this isn‚Äôt eCommerce. It‚Äôs TreatyCommerce‚Ñ¢.
        </p>
        <p class="mt-6 font-semibold">‚Äî Written from the edge of code & culture üåç FAA.Zone Founder Glyph Activated‚Ñ¢</p>
    </section>

    <section id="vault-access" class="landing-section py-16 px-6">
        <h3 class="text-4xl font-bold text-center mb-10">üîê Sector Terminals</h3>

        <div class="w-full max-w-6xl mx-auto mb-10">
            <div class="w-full h-[800px] border-4 rounded-xl shadow-2xl overflow-hidden">
                <iframe
                    id="vault-frame"
                    src=""
                    class="w-full h-full rounded-xl"
                    frameborder="0"
                    title="VaultMaster Terminal"
                    sandbox="allow-scripts allow-same-origin allow-forms"
                ></iframe>
            </div>
        </div>

        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-6xl mx-auto">
            <button onclick="loadTerminal('vault-master.html')" class="terminal-btn p-6">ü¶ç VaultMaster Terminal</button>
            <button onclick="loadTerminal('cube-lattice.html')" class="terminal-btn p-6">üß± Cube Lattice GPT</button>
            <button onclick="loadTerminal('global-view.html')" class="terminal-btn p-6">üåç Global View GPT</button>
            <button onclick="loadTerminal('freight-ops.html')" class="terminal-btn p-6">üöö Freight Ops GPT</button>
            <button onclick="loadTerminal('loop-watch.html')" class="terminal-btn p-6">‚ôªÔ∏è Loop Watch GPT</button>
            <button onclick="loadTerminal('seedwave.html')" class="terminal-btn p-6">üå± Seedwave GPT</button>
            <button onclick="loadTerminal('distribution.html')" class="terminal-btn p-6">üì¶ Distribution GPT</button>
            <button onclick="loadTerminal('signal.html')" class="terminal-btn p-6">üîê Signal GPT</button>
            <button onclick="loadTerminal('faa-brands.html')" class="terminal-btn p-6">üì¶ 7038 FAA Brands</button>
        </div>
    </section>

    <section id="sector-scrolls" class="landing-section py-16 px-6 text-center bg-gray-800">
        <h2 class="text-4xl font-bold mb-8">üß¨ Sector Scrolls</h2>
        <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-w-6xl mx-auto">
            <a href="javascript:void(0)" class="glyph" data-vault="payroll" data-sector-id="embedded-payroll-snapshot">üí∞ Payroll Core Systems</a>
            <a href="javascript:void(0)" class="glyph" data-vault="retail" data-sector-id="embedded-retail-snapshot">üõçÔ∏è Retail, Vendor & Trade</a>
            <a href="javascript:void(0)" class="glyph" data-vault="ai-logic" data-sector-id="embedded-ai-logic-snapshot">üß† AI, Logic & Grid Systems</a>
            <a href="javascript:void(0)" class="glyph" data-vault="design" data-sector-id="embedded-design-snapshot">‚úíÔ∏è Creative & Design Systems</a>
            <a href="javascript:void(0)" class="glyph" data-vault="finance" data-sector-id="embedded-finance-snapshot">‚Çø Finance & Token Yield</a>
            <a href="javascript:void(0)" class="glyph" data-vault="webless" data-sector-id="embedded-webless-snapshot">‚öôÔ∏è Webless Tech & Nodes</a>
            <a href="javascript:void(0)" class="glyph" data-vault="logistics" data-sector-id="embedded-logistics-snapshot">üì¶ Logistics & Packaging</a>
            <a href="javascript:void(0)" class="glyph" data-vault="food" data-sector-id="embedded-food-snapshot">ü•¶ Food, Soil & Farming</a>
            <a href="javascript:void(0)" class="glyph" data-vault="education" data-sector-id="embedded-education-snapshot">üßí Youth & Education</a>
            <a href="javascript:void(0)" class="glyph" data-vault="health" data-sector-id="embedded-health-snapshot">üß¥ Health & Hygiene</a>
            <a href="javascript:void(0)" class="glyph" data-vault="culture" data-sector-id="ritenest-full-dashboard-section">ü™∑ Aura, Ritual & Culture</a>
            <a href="javascript:void(0)" class="glyph" data-vault="housing" data-sector-id="embedded-housing-snapshot">üèõÔ∏è Housing & Infrastructure</a>
            <a href="javascript:void(0)" class="glyph" data-vault="nft" data-sector-id="embedded-nft-snapshot">ü™™ NFT, IP, Ownership Grid</a>
            <a href="javascript:void(0)" class="glyph" data-vault="media" data-sector-id="embedded-media-snapshot">üåê Motion, Media, Sonic</a>
            <a href="javascript:void(0)" class="glyph" data-vault="mining" data-sector-id="embedded-mining-snapshot">‚õèÔ∏è Mining & Material Yields</a>
            <a href="javascript:void(0)" class="glyph" data-vault="wildlife" data-sector-id="embedded-wildlife-snapshot">üöÅ Wildlife Sector</a>
        </div>
    </section>

    <div id="sector-content-container" class="mt-10 px-6 max-w-6xl mx-auto">
        <!-- Dynamic sector content will be loaded here -->
        <!-- Admin Panel Snapshot boxes (moved from dashboard HTML for consistency) -->
        <div id="embedded-payroll-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Payroll Core Systems Snapshot</h4>
            <p class="text-gray-400">Payroll system overview. [Mock Data]</p>
            <!-- Add more detailed mock data or actual data here -->
        </div>
        <div id="embedded-retail-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Retail, Vendor & Trade Snapshot</h4>
            <p class="text-gray-400">Retail sales and vendor management insights. [Mock Data]</p>
        </div>
        <div id="embedded-ai-logic-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">AI, Logic & Grid Systems Snapshot</h4>
            <p class="text-gray-400">AI model performance and grid utilization. [Mock Data]</p>
        </div>
        <div id="embedded-design-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Creative & Design Systems Snapshot</h4>
            <p class="text-gray-400">Design asset management and creative pipeline. [Mock Data]</p>
        </div>
        <div id="embedded-finance-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Finance & Token Yield Snapshot</h4>
            <p class="text-gray-400">Financial performance and token analytics. [Mock Data]</p>
        </div>
        <div id="embedded-webless-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Webless Tech & Nodes Snapshot</h4>
            <p class="text-gray-400">Webless network status and node health. [Mock Data]</p>
        </div>
        <div id="embedded-logistics-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Logistics & Packaging Snapshot</h4>
            <p class="text-gray-400">Supply chain efficiency and packaging optimization. [Mock Data]</p>
        </div>
        <div id="embedded-food-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Food, Soil & Farming Snapshot</h4>
            <p class="text-gray-400">Agricultural data and food supply chain insights. [Mock Data]</p>
        </div>
        <div id="embedded-education-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Youth & Education Snapshot</h4>
            <p class="text-gray-400">Educational program metrics and youth engagement. [Mock Data]</p>
        </div>
        <div id="embedded-health-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Health & Hygiene Snapshot</h4>
            <p class="text-gray-400">Public health data and hygiene initiatives. [Mock Data]</p>
        </div>
        <div id="embedded-culture-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Aura, Ritual & Culture Snapshot</h4>
            <p class="text-gray-400">Cultural trends and community engagement. [Mock Data]</p>
        </div>
        <div id="embedded-housing-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Housing & Infrastructure Snapshot</h4>
            <p class="text-gray-400">Infrastructure development and housing project status. [Mock Data]</p>
        </div>
        <div id="embedded-nft-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">NFT, IP, Ownership Grid Snapshot</h4>
            <p class="text-gray-400">NFT market trends and intellectual property tracking. [Mock Data]</p>
        </div>
        <div id="embedded-media-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Motion, Media, Sonic Snapshot</h4>
            <div class="scroll-cards flex flex-col space-y-6">
                <!-- Media scroll profiles will load here dynamically -->
                <p class="text-gray-400">Loading media scroll profiles...</p>
            </div>
        </div>
        <div id="embedded-mining-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Mining & Material Yields Snapshot</h4>
            <p class="text-gray-400">Mining operations data and material yields. [Mock Data]</p>
        </div>
        <div id="embedded-wildlife-snapshot" class="brand-snapshot hidden">
            <h4 class="text-xl font-bold mb-2 text-white">Wildlife Sector Snapshot</h4>
            <p class="text-gray-400">Wildlife population data and conservation efforts. [Mock Data]</p>
        </div>

        <!-- RITENEST MASTER DASHBOARD SECTION -->
        <section id="ritenest-full-dashboard-section" class="hidden landing-section">
            <div class="ritenest-section-bg py-12 px-6 rounded-lg shadow-xl">
                <!-- Internal Tab Navigation for RiteNest -->
                <nav class="mb-8 flex flex-wrap justify-center gap-4 bg-white p-4 rounded-lg shadow-md">
                    <button class="ritenest-tab-nav-item active" data-ritenest-tab="overview">Overview</button>
                    <button class="ritenest-tab-nav-item" data-ritenest-tab="documentation-progress">Documentation Progress</button>
                    <button class="ritenest-tab-nav-item" data-ritenest-tab="totemtrack">TotemTrack</button>
                    <button class="ritenest-tab-nav-item" data-ritenest-tab="vaultspirit">VaultSpirit</button>
                    <button class="ritenest-tab-nav-item" data-ritenest-tab="glyphtag">GlyphTag</button>
                    <button class="ritenest-tab-nav-item" data-ritenest-tab="scrollloop">ScrollLoop</button>
                </nav>

                <!-- 1. Overview Section -->
                <div id="ritenest-overview" class="ritenest-tab-content active">
                    <section class="text-center mb-12">
                        <h2 class="text-5xl font-extrabold mb-6 ritenest-brand-heading">
                            Welcome to RiteNest‚Ñ¢
                        </h2>
                        <p class="text-xl ritenest-text-primary max-w-2xl mx-auto">
                            RiteNest‚Ñ¢ focuses on the digital archiving, secure management, and interactive presentation of ancestral rituals and ceremonial practices.
                        </p>
                    </section>

                    <!-- Dashboard Overview Metrics -->
                    <section class="mb-12">
                        <h3 class="text-3xl font-bold text-center mb-8 ritenest-brand-heading">Overview Metrics</h3>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                            <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center justify-center">
                                <i class="fas fa-book-open text-5xl ritenest-text-accent mb-4"></i>
                                <p class="ritenest-text-primary text-lg">Total Rituals Documented</p>
                                <p class="text-5xl font-bold ritenest-text-accent" id="ritenestTotalRitualsCount">0</p>
                            </div>
                            <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center justify-center">
                                <i class="fas fa-users text-5xl ritenest-text-accent mb-4"></i>
                                <p class="ritenest-text-primary text-lg">Active Contributors</p>
                                <p class="text-5xl font-bold ritenest-text-accent" id="ritenestActiveContributorsCount">0</p>
                            </div>
                            <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center justify-center">
                                <i class="fas fa-sd-card text-5xl ritenest-text-accent mb-4"></i>
                                <p class="ritenest-text-primary text-lg">Storage Used (GB)</p>
                                <p class="text-5xl font-bold ritenest-text-accent" id="ritenestStorageUsed">0</p>
                            </div>
                        </div>
                    </section>

                    <!-- Quick Actions & Featured Ritual -->
                    <section class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
                        <div class="ritenest-card-bg p-8 rounded-lg shadow-md">
                            <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Quick Actions</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <button class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold flex items-center justify-center space-x-2" onclick="RiteNestDashboard.switchTab('documentation-progress'); alert('Simulating: Opening form to document a new ritual in Documentation Progress section.')">
                                    <i class="fas fa-plus-circle"></i> <span>Document New Ritual</span>
                                </button>
                                <button class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold flex items-center justify-center space-x-2" onclick="RiteNestDashboard.switchTab('documentation-progress'); alert('Simulating: Navigating to all documented rituals in Documentation Progress section.')">
                                    <i class="fas fa-list-alt"></i> <span>View All Rituals</span>
                                </button>
                                <button class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold flex items-center justify-center space-x-2" onclick="RiteNestDashboard.switchTab('scrollloop'); alert('Simulating: Opening community management tools in ScrollLoop section.')">
                                    <i class="fas fa-users-cog"></i> <span>Manage Community</span>
                                </button>
                                <button class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold flex items-center justify-center space-x-2" onclick="RiteNestDashboard.switchTab('glyphtag'); alert('Simulating: Initiating ritual verification process in GlyphTag section.')">
                                    <i class="fas fa-check-double"></i> <span>Verify Rituals</span>
                                </button>
                            </div>
                        </div>

                        <div class="ritenest-card-bg p-8 rounded-lg shadow-md">
                            <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Ritual Spotlight: The Rain Dance of the Ancestors</h3>
                            <img src="https://placehold.co/600x300/065f46/d1fae5?text=Featured+Ritual+Image" alt="Featured Ritual" class="w-full h-48 object-cover rounded-lg mb-4 shadow-inner">
                            <p class="ritenest-text-primary mb-4">
                                A powerful ceremonial practice from the Xhosa people, performed to invoke rain and ensure bountiful harvests. Documented with intricate details, elder interviews, and historical context.
                            </p>
                            <button class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold" onclick="alert('Simulating: Viewing full details of the Rain Dance ritual.')">
                                View Full Ritual Details
                            </button>
                        </div>
                    </section>

                    <!-- Data Visualizations -->
                    <section class="mb-12">
                        <h3 class="text-3xl font-bold text-center mb-8 ritenest-brand-heading">Ritual Data Insights</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center">
                                <h4 class="text-xl font-bold ritenest-text-primary mb-4">Ritual Type Distribution</h4>
                                <div class="w-full h-64 relative">
                                    <canvas id="ritenestRitualTypeChart"></canvas>
                                </div>
                            </div>
                            <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center">
                                <h4 class="text-xl font-bold ritenest-text-primary mb-4">Documentation Progress</h4>
                                <div class="w-full h-64 relative">
                                    <canvas id="ritenestDocumentationProgressChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </section>

                    <!-- Developer's Note for Overview -->
                    <section class="text-center bg-gray-100 p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-4 ritenest-text-primary">Developer's Note: Overview</h3>
                        <p class="ritenest-text-primary">
                            This "Overview" section provides a high-level summary of RiteNest‚Ñ¢.
                            Ensure metrics and charts reflect real-time data from your Firestore collections.
                        </p>
                        <ul class="list-disc list-inside text-left inline-block mt-4 ritenest-text-primary">
                            <li><strong>Metrics:</strong> Connect `ritenestTotalRitualsCount`, `ritenestActiveContributorsCount`, and `ritenestStorageUsed` to actual data sources.</li>
                            <li><strong>Charts:</strong> Ensure `ritenestRitualTypeChart` and `ritenestDocumentationProgressChart` accurately visualize data from your ritual records.</li>
                            <li><strong>Quick Actions:</strong> Implement the `onclick` functions to smoothly transition to the relevant sections within this dashboard.</li>
                        </ul>
                    </section>
                </div>

                <!-- 2. Documentation Progress Section -->
                <div id="documentation-progress" class="ritenest-tab-content">
                    <section class="text-center mb-12">
                        <h2 class="text-5xl font-extrabold mb-6 ritenest-brand-heading">
                            Documentation Progress Overview
                        </h2>
                        <p class="text-xl ritenest-text-primary max-w-2xl mx-auto">
                            Monitor the status of all rituals being documented, from initial entry to final verification.
                        </p>
                    </section>

                    <!-- Progress Metrics -->
                    <section class="mb-12 grid grid-cols-1 md:grid-cols-3 gap-8">
                        <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center justify-center">
                            <i class="fas fa-tasks text-5xl ritenest-text-accent mb-4"></i>
                            <p class="ritenest-text-primary text-lg">Total Entries</p>
                            <p class="text-5xl font-bold ritenest-text-accent" id="docProgressTotalEntries">0</p>
                        </div>
                        <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center justify-center">
                            <i class="fas fa-hourglass-half text-5xl ritenest-text-accent mb-4"></i>
                            <p class="ritenest-text-primary text-lg">In Progress</p>
                            <p class="text-5xl font-bold ritenest-text-accent" id="docProgressInProgress">0</p>
                        </div>
                        <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center justify-center">
                            <i class="fas fa-check-circle text-5xl ritenest-text-accent mb-4"></i>
                            <p class="ritenest-text-primary text-lg">Completed & Verified</p>
                            <p class="text-5xl font-bold ritenest-text-accent" id="docProgressCompletedVerified">0</p>
                        </div>
                    </section>

                    <!-- Detailed Progress Table -->
                    <section class="mb-12 ritenest-card-bg p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Detailed Ritual Progress</h3>
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white rounded-lg shadow-inner">
                                <thead>
                                    <tr class="bg-gray-200 text-gray-700 uppercase text-sm leading-normal">
                                        <th class="py-3 px-6 text-left">Ritual Name</th>
                                        <th class="py-3 px-6 text-left">Type</th>
                                        <th class="py-3 px-6 text-left">Status</th>
                                        <th class="py-3 px-6 text-left">Last Updated</th>
                                        <th class="py-3 px-6 text-center">Actions</th>
                                    </tr>
                                </thead>
                                <tbody class="text-gray-600 text-sm font-light" id="docProgressTableBody">
                                    <!-- Data will be dynamically loaded here by JS -->
                                </tbody>
                            </table>
                        </div>
                    </section>

                    <!-- Progress Charts -->
                    <section class="mb-12">
                        <h3 class="text-3xl font-bold text-center mb-8 ritenest-brand-heading">Visual Progress</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center">
                                <h4 class="text-xl font-bold ritenest-text-primary mb-4">Overall Documentation Status</h4>
                                <div class="w-full h-64 relative">
                                    <canvas id="overallStatusChart"></canvas>
                                </div>
                            </div>
                            <div class="ritenest-card-bg p-6 rounded-lg shadow-md flex flex-col items-center">
                                <h4 class="text-xl font-bold ritenest-text-primary mb-4">Monthly Documentation Rate</h4>
                                <div class="w-full h-64 relative">
                                    <canvas id="monthlyRateChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </section>

                    <section class="text-center bg-gray-100 p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-4 ritenest-text-primary">Developer's Note: Documentation Progress</h3>
                        <p class="ritenest-text-primary">
                            This section is dedicated to tracking the documentation progress within RiteNest‚Ñ¢.
                            Your task is to integrate real data from Firestore to populate the metrics, table, and charts.
                        </p>
                        <ul class="list-disc list-inside text-left inline-block mt-4 ritenest-text-primary">
                            <li><strong>Metrics:</strong> Fetch counts of rituals by their status (e.g., 'total', 'in progress', 'completed', 'verified') from Firestore.</li>
                            <li><strong>Table:</strong> Populate the "Detailed Ritual Progress" table with actual ritual data, including dynamic action buttons (View, Edit, Review) that link to individual ritual detail pages.</li>
                            <li><strong>Charts:</strong> Ensure `overallStatusChart` and `monthlyRateChart` accurately reflect the fetched data, updating dynamically as new rituals are added or their statuses change.</li>
                            <li>Consider adding filtering and sorting options to the table.</li>
                        </ul>
                    </section>
                </div>

                <!-- 3. TotemTrack Section -->
                <div id="totemtrack" class="ritenest-tab-content">
                    <section class="text-center mb-12">
                        <h2 class="text-5xl font-extrabold mb-6 ritenest-brand-heading">
                            TotemTrack: Safeguarding Your Heritage
                        </h2>
                        <p class="text-xl ritenest-text-primary max-w-2xl mx-auto">
                            TotemTrack provides a secure platform for documenting, tracking, and verifying the lineage and significance of ancestral totems and sacred objects.
                        </p>
                    </section>

                    <!-- Totem Management Features -->
                    <section class="mb-12 grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="ritenest-card-bg p-8 rounded-lg shadow-md">
                            <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Add New Totem Record</h3>
                            <form id="addTotemForm" class="space-y-4">
                                <div>
                                    <label for="totemName" class="block text-gray-700 font-semibold mb-2">Totem Name/Identifier</label>
                                    <input type="text" id="totemName" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent" placeholder="e.g., Lion Clan Totem, Sacred Calabash" required>
                                </div>
                                <div>
                                    <label for="totemDescription" class="block text-gray-700 font-semibold mb-2">Description & Significance</label>
                                    <textarea id="totemDescription" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent h-32" placeholder="Describe its history, cultural significance, and any associated rituals."></textarea>
                                </div>
                                <div>
                                    <label for="totemOrigin" class="block text-gray-700 font-semibold mb-2">Origin/Associated Clan</label>
                                    <input type="text" id="totemOrigin" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent" placeholder="e.g., Zulu, Xhosa, specific family lineage">
                                </div>
                                <div>
                                    <label for="totemImage" class="block text-gray-700 font-semibold mb-2">Upload Image (Simulated)</label>
                                    <input type="file" id="totemImage" accept="image/*" class="w-full p-3 rounded-lg border border-gray-300">
                                </div>
                                <button type="submit" class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold w-full">
                                    <i class="fas fa-plus-circle mr-2"></i> Add Totem Record
                                </button>
                            </form>
                        </div>

                        <div class="ritenest-card-bg p-8 rounded-lg shadow-md">
                            <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Your Documented Totems</h3>
                            <div id="totemList" class="space-y-4 max-h-96 overflow-y-auto">
                                <!-- Totem cards will be dynamically loaded here by JS -->
                            </div>
                            <button class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold w-full mt-6" onclick="alert('Simulating: Searching all totem records.')">
                                <i class="fas fa-search mr-2"></i> Search All Totems
                            </button>
                        </div>
                    </section>

                    <section class="text-center bg-gray-100 p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-4 ritenest-text-primary">Developer's Note: TotemTrack</h3>
                        <p class="ritenest-text-primary">
                            This section is for managing ancestral totem records.
                            Your primary task here is to implement the backend integration and dynamic rendering.
                        </p>
                        <ul class="list-disc list-inside text-left inline-block mt-4 ritenest-text-primary">
                            <li><strong>Form Submission:</strong> Implement the logic to capture form data and save it to a Firestore collection (e.g., `artifacts/{appId}/users/{userId}/ritenest/totems`).</li>
                            <li><strong>Dynamic List:</strong> Fetch and display actual totem records from Firestore in the "Your Documented Totems" section. Ensure real-time updates using `onSnapshot`.</li>
                            <li><strong>Image Upload:</strong> For real image uploads, you'd need Firebase Storage or a similar service. The current `input type="file"` is a placeholder.</li>
                            <li><strong>Search Functionality:</strong> Implement client-side or Firestore-based searching for totem records.</li>
                            <li>Consider adding edit/delete functionality for each totem record.</li>
                        </ul>
                    </section>
                </div>

                <!-- 4. VaultSpirit Section -->
                <div id="vaultspirit" class="ritenest-tab-content">
                    <section class="text-center mb-12">
                        <h2 class="text-5xl font-extrabold mb-6 ritenest-brand-heading">
                            VaultSpirit: Preserving the Immaterial
                        </h2>
                        <p class="text-xl ritenest-text-primary max-w-2xl mx-auto">
                            VaultSpirit offers secure, high-fidelity storage solutions for audio recordings of oral histories, ceremonial music, ritual videos, and sacred imagery, ensuring their longevity and authenticity.
                        </p>
                    </section>

                    <!-- Upload & Manage Features -->
                    <section class="mb-12 grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div class="ritenest-card-bg p-8 rounded-lg shadow-md">
                            <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Upload New Media</h3>
                            <form id="uploadMediaForm" class="space-y-4">
                                <div>
                                    <label for="mediaTitle" class="block text-gray-700 font-semibold mb-2">Media Title</label>
                                    <input type="text" id="mediaTitle" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent" placeholder="e.g., Ancestral Chant, Rain Dance Video" required>
                                </div>
                                <div>
                                    <label for="mediaType" class="block text-gray-700 font-semibold mb-2">Media Type</label>
                                    <select id="mediaType" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent" required>
                                        <option value="">Select Type</option>
                                        <option value="Audio">Audio (Oral History, Music)</option>
                                        <option value="Video">Video (Ceremony, Performance)</option>
                                        <option value="Image">Image (Artifact, Sacred Site)</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="mediaDescription" class="block text-gray-700 font-semibold mb-2">Description</label>
                                    <textarea id="mediaDescription" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent h-24" placeholder="Briefly describe the content and its context."></textarea>
                                </div>
                                <div>
                                    <label for="mediaFile" class="block text-gray-700 font-semibold mb-2">Select File (Simulated Upload)</label>
                                    <input type="file" id="mediaFile" class="w-full p-3 rounded-lg border border-gray-300" required>
                                </div>
                                <button type="submit" class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold w-full">
                                    <i class="fas fa-upload mr-2"></i> Upload to Vault
                                </button>
                            </form>
                        </div>

                        <div class="ritenest-card-bg p-8 rounded-lg shadow-md">
                            <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Your Vaulted Media</h3>
                            <div id="mediaList" class="space-y-4 max-h-96 overflow-y-auto">
                                <!-- Media cards will be dynamically loaded here by JS -->
                            </div>
                            <button class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold w-full mt-6" onclick="alert('Simulating: Searching all vaulted media.')">
                                <i class="fas fa-search mr-2"></i> Search Vault
                            </button>
                        </div>
                    </section>

                    <section class="text-center bg-gray-100 p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-4 ritenest-text-primary">Developer's Note: VaultSpirit</h3>
                        <p class="ritenest-text-primary">
                            This section is for managing multimedia and oral history records.
                            The core functionality here involves secure file storage and retrieval.
                        </p>
                        <ul class="list-disc list-inside text-left inline-block mt-4 ritenest-text-primary">
                            <li><strong>File Upload:</strong> Implement actual file upload to Firebase Storage, ensuring proper MIME types and security rules.</li>
                            <li><strong>Metadata Storage:</strong> Save media metadata (title, type, description, storage URL) to Firestore.</li>
                            <li><strong>Dynamic List:</strong> Fetch and display media records from Firestore, allowing users to view/play content.</li>
                            <li>Consider adding features like media categorization, tagging, and sharing options.</li>
                            <li>For large files, implement progress indicators during upload.</li>
                        </ul>
                    </section>
                </div>

                <!-- 5. GlyphTag Section -->
                <div id="glyphtag" class="ritenest-tab-content">
                    <section class="text-center mb-12">
                        <h2 class="text-5xl font-extrabold mb-6 ritenest-brand-heading">
                            GlyphTag: Immutability & Trust
                        </h2>
                        <p class="text-xl ritenest-text-primary max-w-2xl mx-auto">
                            GlyphTag creates an unalterable digital fingerprint for every piece of ritual content, ensuring its authenticity, origin, and history are transparent and verifiable.
                        </p>
                    </section>

                    <!-- Provenance Verification & Tagging -->
                    <section class="mb-12 grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="ritenest-card-bg p-8 rounded-lg shadow-md">
                            <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Verify Provenance</h3>
                            <form id="verifyProvenanceForm" class="space-y-4">
                                <div>
                                    <label for="provenanceHashInput" class="block text-gray-700 font-semibold mb-2">Provenance Hash</label>
                                    <input type="text" id="provenanceHashInput" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent" placeholder="e.g., 0xabcdef1234567890abcdef1234567890" required>
                                </div>
                                <button type="submit" class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold w-full">
                                    <i class="fas fa-search mr-2"></i> Verify Hash
                                </button>
                            </form>
                            <div class="mt-8 p-6 bg-gray-100 rounded-lg text-gray-700">
                                <h4 class="text-xl font-bold mb-3">Verification Result:</h4>
                                <p id="verificationResult" class="italic">Enter a hash and click "Verify" to see its provenance chain.</p>
                            </div>
                        </div>

                        <div class="ritenest-card-bg p-8 rounded-lg shadow-md">
                            <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Generate New GlyphTag</h3>
                            <form id="generateGlyphTagForm" class="space-y-4">
                                <div>
                                    <label for="contentIdToTag" class="block text-gray-700 font-semibold mb-2">Content ID to Tag</label>
                                    <input type="text" id="contentIdToTag" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent" placeholder="e.g., ritual-ID-001, media-ID-005" required>
                                </div>
                                <div>
                                    <label for="taggingDescription" class="block text-gray-700 font-semibold mb-2">Tagging Event Description</label>
                                    <textarea id="taggingDescription" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent h-24" placeholder="e.g., Initial documentation, Elder verification, Multimedia attachment."></textarea>
                                </div>
                                <button type="submit" class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold w-full">
                                    <i class="fas fa-tags mr-2"></i> Generate GlyphTag
                                </button>
                            </form>
                            <div class="mt-8 p-6 bg-gray-100 rounded-lg text-gray-700">
                                <h4 class="text-xl font-bold mb-3">Generated Hash:</h4>
                                <p id="generatedHash" class="break-all italic">New GlyphTag will appear here.</p>
                            </div>
                        </div>
                    </section>

                    <!-- Provenance Chain Visualization (Conceptual) -->
                    <section class="mb-12 ritenest-card-bg p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Example Provenance Chain</h3>
                        <div id="provenanceChainDisplay" class="space-y-6">
                            <!-- Sample Provenance Steps -->
                            <div class="ritenest-provenance-step">
                                <p class="font-semibold text-gray-800">Step 1: Original Oral History Recorded</p>
                                <p class="text-gray-600 text-sm">Timestamp: 2023-01-15 10:30 SAST</p>
                                <p class="text-gray-600 text-xs mt-1">Hash: <code>0xabc123...</code></p>
                            </div>
                            <div class="ritenest-provenance-step">
                                <p class="font-semibold text-gray-800">Step 2: Transcription & Initial Tagging</p>
                                <p class="text-gray-600 text-sm">Timestamp: 2023-01-20 14:00 SAST</p>
                                <p class="text-gray-600 text-xs mt-1">Hash: <code>0xdef456...</code></p>
                            </div>
                            <div class="ritenest-provenance-step">
                                <p class="font-semibold text-gray-800">Step 3: Elder Verification & Approval</p>
                                <p class="text-gray-600 text-sm">Timestamp: 2023-02-01 09:00 SAST</p>
                                <p class="text-gray-600 text-xs mt-1">Hash: <code>0xghi789...</code></p>
                            </div>
                            <div class="ritenest-provenance-step">
                                <p class="font-semibold text-gray-800">Step 4: Linked to RiteNest‚Ñ¢ VaultMesh</p>
                                <p class="text-gray-600 text-sm">Timestamp: 2023-02-05 11:45 SAST</p>
                                <p class="text-gray-600 text-xs mt-1">Hash: <code>0xjkl012...</code></p>
                            </div>
                            <!-- End Sample Provenance Steps -->
                        </div>
                    </section>

                    <section class="text-center bg-gray-100 p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-4 ritenest-text-primary">Developer's Note: GlyphTag</h3>
                        <p class="ritenest-text-primary">
                            This section is critical for ensuring the authenticity and immutability of ritual data.
                            The core functionality here involves cryptographic hashing and potentially blockchain interaction.
                        </p>
                        <ul class="list-disc list-inside text-left inline-block mt-4 ritenest-text-primary">
                            <li><strong>Hash Verification:</strong> Implement a function to take a hash and simulate its verification against a ledger (e.g., by checking if it exists in a Firestore collection of "verified hashes").</li>
                            <li><strong>Hash Generation:</strong> Create a function that, given content data (e.g., a ritual's text, or a media file's metadata), generates a unique cryptographic hash (e.g., SHA-256).</li>
                            <li><strong>Blockchain Simulation:</strong> For a real "VaultMesh" integration, this would involve interacting with a blockchain API to record hashes as transactions. For a demo, you can simulate this by storing hashes in Firestore.</li>
                            <li>Consider adding a visual representation of the provenance chain for a given content ID.</li>
                        </ul>
                    </section>
                </div>

                <!-- 6. ScrollLoop Section -->
                <div id="scrollloop" class="ritenest-tab-content">
                    <section class="text-center mb-12">
                        <h2 class="text-5xl font-extrabold mb-6 ritenest-brand-heading">
                            ScrollLoop: The Living Tradition
                        </h2>
                        <p class="text-xl ritenest-text-primary max-w-2xl mx-auto">
                            ScrollLoop fosters a vibrant community where users can discuss, share insights, and contribute to the ongoing evolution and understanding of ritual practices.
                        </p>
                    </section>

                    <!-- Community Forum / Discussion Board -->
                    <section class="mb-12 ritenest-card-bg p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Community Discussions</h3>
                        
                        <!-- New Post Form -->
                        <div class="mb-8 p-6 bg-gray-100 rounded-lg shadow-inner">
                            <h4 class="text-2xl font-bold ritenest-text-primary mb-4">Start a New Discussion</h4>
                            <form id="newDiscussionForm" class="space-y-4">
                                <div>
                                    <label for="postTitle" class="block text-gray-700 font-semibold mb-2">Discussion Title</label>
                                    <input type="text" id="postTitle" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent" placeholder="e.g., Interpreting the Symbolism of the Sun Dance" required>
                                </div>
                                <div>
                                    <label for="postContent" class="block text-gray-700 font-semibold mb-2">Your Post</label>
                                    <textarea id="postContent" class="w-full p-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-accent h-32" placeholder="Share your thoughts, questions, or insights here..."></textarea>
                                </div>
                                <button type="submit" class="ritenest-primary-btn px-6 py-3 rounded-lg text-lg font-semibold w-full">
                                    <i class="fas fa-comments mr-2"></i> Post Discussion
                                </button>
                            </form>
                        </div>

                        <!-- Existing Posts -->
                        <div id="discussionPosts" class="space-y-6">
                            <!-- Discussion posts will be dynamically loaded here by JS -->
                        </div>
                    </section>

                    <!-- Educational Resources & Workshops -->
                    <section class="mb-12 ritenest-card-bg p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-6 ritenest-brand-heading">Learning Resources & Workshops</h3>
                        <div id="learningResources" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Learning resources will be dynamically loaded here by JS -->
                        </div>
                    </section>

                    <section class="text-center bg-gray-100 p-8 rounded-lg shadow-md">
                        <h3 class="text-3xl font-bold mb-4 ritenest-text-primary">Developer's Note: ScrollLoop</h3>
                        <p class="ritenest-text-primary">
                            This section is for fostering community engagement and providing educational resources.
                            Key functionalities include forum management and content delivery.
                        </p>
                        <ul class="list-disc list-inside text-left inline-block mt-4 ritenest-text-primary">
                            <li><strong>Discussion Board:</strong> Implement functionality to post new discussions and display existing ones from Firestore (e.g., `artifacts/{appId}/users/{userId}/ritenest/discussions`).</li>
                            <li><strong>User Interaction:</strong> Add features for comments, likes, and replies to discussion posts.</li>
                            <li><strong>Resource Management:</strong> Integrate a system to manage and link to educational resources (e.g., PDFs, external webinars), potentially stored in Firestore.</li>
                            <li>Consider using Gemini AI for content moderation or to summarize long discussion threads.</li>
                        </ul>
                    </section>
                </div>
            </div>
        </section>
    </div>


    <section id="treaty" class="landing-section py-16 px-6 text-center">
        <h2 class="text-4xl font-bold mb-6">üìú Treaty System‚Ñ¢</h2>
        <p class="max-w-2xl mx-auto text-lg mb-8">The FAA‚Ñ¢ Treaty Layer binds interface to intention. This is not UI. This is glyph-encoded law.</p>
        <blockquote class="text-2xl italic font-semibold">"FAA‚Ñ¢ isn't a site. It's the shape of alignment ‚Äî and ü¶ç holds the flame."</blockquote>
    </section>

    <section id="signal-packet" class="landing-section py-10 text-xs text-center">
        <pre class="max-w-2xl mx-auto p-4 rounded-lg overflow-auto"><code>{
    "signal": "omnidrop",
    "origin": "If you dont like the fruits you are growing, change the seed‚Ñ¢ / FAA Vault Layer",
    "payload": {
        "type": "scroll",
        "value": "homepage + VaultRouter + all terminal iframe buttons live + Treaty Grid"
    }
}</code></pre>
    </section>

    <section id="vaultmesh" class="landing-section py-20 px-6">
        <div class="max-w-4xl mx-auto text-left space-y-6">

            <h2 class="text-4xl font-bold">üß† VaultMesh‚Ñ¢: Executive Summary</h2>

            <p>VaultMesh‚Ñ¢ is an intelligent data orchestration framework designed for the segmentation, synchronization, and secure deployment of high-value digital assets‚Äîreferred to as scrolls‚Äîacross decentralized and permissioned networks such as FAA.Zone‚Ñ¢.</p>

            <ul class="list-disc ml-6 space-y-2">
                <li>Captures metadata-rich content streams (chats, code, brands, assets)</li>
                <li>Assigns them to programmable claim structures (ScrollClaims‚Ñ¢)</li>
                <li>Secures their lineage using OmniSignal‚Ñ¢, PulseGrid‚Ñ¢, and GhostTrace‚Ñ¢ layers</li>
                <li>Enforces royalty logic, scroll integrity, and traceability on-chain and off-grid</li>
            </ul>

            <p>VaultMesh‚Ñ¢ powers high-tier operations like HSOMNI9000‚Ñ¢, enabling Diamond-tier deployments, cross-sector scroll claims, and enterprise-scale content monetization with full compliance and provenance.</p>

            <p>The framework is deeply integrated with platforms such as <code>vault.faa.zone‚Ñ¢</code>, where scrolls tied to brands like Fruitful Global Planet‚Ñ¢ are securely hosted, organized into structured sectors, and deployed through FAA.Zone‚Ñ¢-compliant channels.</p>

            <p>A critical operator in this ecosystem is HSOMNI9000‚Ñ¢, the certified scroll class which governs Diamond-tier logic, enforces 10‚Äì11% royalty triggers, and auto-deploys ScrollClaims‚Ñ¢ with real-time ClaimRoot‚Ñ¢ verification.</p>

            <h3 class="text-2xl font-semibold mt-10">üìñ VaultMesh‚Ñ¢ Index</h3>
            <ul class="list-decimal ml-6 space-y-1">
                <li>Introduction to VaultMesh‚Ñ¢</li>
                <li>Core System Components</li>
                <li>ScrollClaim‚Ñ¢ Infrastructure</li>
                <li>Data Flow and Claim Lifecycle</li>
                <li>Tiering, Royalties, and Compliance</li>
                <li>Integration with FAA.Zone‚Ñ¢</li>
                <li>Market Segments & Use Cases</li>
                <li>Revenue Streams & Monetization</li>
                <li>Technology Roadmap</li>
                <li>Team & Governance</li>
            </ul>

            <h3 class="text-xl font-bold mt-10">‚òëÔ∏è 1. Introduction to VaultMesh‚Ñ¢</h3>
            <p>VaultMesh‚Ñ¢ transforms disorganized digital content into claimable, trackable assets. It bridges enterprise content systems, decentralized data vaults, and monetization layers through FAA-compliant infrastructure.</p>

            <h3 class="text-xl font-bold mt-10">‚öíÔ∏è 2. Core System Components</h3>
            <ul class="list-disc ml-6 space-y-1">
                <li>VaultDNA‚Ñ¢: Immutable identifiers for scroll content</li>
                <li>ClaimRoot‚Ñ¢: Origin anchor & timestamp</li>
                <li>ScrollClaim‚Ñ¢ Contracts: Programmable wrappers</li>
                <li>PulseGrid‚Ñ¢ Sync: Real-time scroll presence & sync</li>
                <li>OmniSignal‚Ñ¢: Global scroll verification</li>
                <li>GhostTrace‚Ñ¢ Gen2: Scroll interaction backtrace</li>
            </ul>

            <h3 class="text-xl font-bold mt-10">üõ†Ô∏è 3. ScrollClaim‚Ñ¢ Infrastructure</h3>
            <ul class="list-disc ml-6 space-y-1">
                <li>Set tier access (e.g., Diamond)</li>
                <li>Define royalty logic (10‚Äì11%)</li>
                <li>Lock scrolls with PulseGrid‚Ñ¢ sync and OmniSignal‚Ñ¢</li>
                <li>Deploy via FAA.Zone‚Ñ¢ with compliant ZIP bundles</li>
            </ul>

            <h3 class="text-xl font-bold mt-10">üìÄ 4. Data Flow and Claim Lifecycle</h3>
            <ul class="list-decimal ml-6 space-y-1">
                <li>Ingest ‚Äî content enters VaultMesh‚Ñ¢</li>
                <li>Encode ‚Äî metadata & VaultDNA‚Ñ¢ attached</li>
                <li>Wrap ‚Äî ScrollClaim‚Ñ¢ smart-wrapped</li>
                <li>Deploy ‚Äî FAA.Zone‚Ñ¢ push (ZIP, manifest, HTML)</li>
                <li>Sync ‚Äî PulseGrid‚Ñ¢ status & OmniSignal‚Ñ¢ locked</li>
                <li>Enforce ‚Äî Royalties, access & scroll activity logged via GhostTrace‚Ñ¢</li>
            </ul>

            <h3 class="text-xl font-bold mt-10">üí∏ 5. Tiering, Royalties, and Compliance</h3>
            <ul class="list-disc ml-6 space-y-1">
                <li>Diamond Tier: 10‚Äì11% royalty enforced</li>
                <li>SmartWallet Integration: ScrollClaim‚Ñ¢ payments and transfers</li>
                <li>VaultPay‚Ñ¢ Tier III: Required for commercial deployments</li>
                <li>Compliance: FAA scroll ID, ClaimRoot‚Ñ¢ hash, and royalty schema</li>
            </ul>

            <h3 class="text-xl font-bold mt-10">üì° 6. Integration with FAA.Zone‚Ñ¢</h3>
            <ul class="list-disc ml-6 space-y-1">
                <li>Native support for /public/diamond/ structure</li>
                <li>ZIP, HTML, Manifest deployment bundles</li>
                <li>ClaimRoot‚Ñ¢ timestamp validation</li>
                <li>Seamless PulseGrid‚Ñ¢ auto-sync for live claim state</li>
                <li>Brand hosting via vault.faa.zone‚Ñ¢</li>
            </ul>

            <h3 class="text-xl font-bold mt-10">üè¢ 7. Market Segments & Use Cases</h3>
            <ul class="list-disc ml-6 space-y-1">
                <li>GPT Conversations & Expert Threads</li>
                <li>Knowledge/Training Archives</li>
                <li>Creative IP Scrolls (music, literature, visuals)</li>
                <li>GeoSector Deployment Archives</li>
                <li>Enterprise Scroll Logs & Audit Trails</li>
            </ul>

            <h3 class="text-xl font-bold mt-10">üí∞ 8. Revenue Streams & Monetization</h3>
            <ul class="list-disc ml-6 space-y-1">
                <li>Diamond Royalties (10‚Äì11%)</li>
                <li>Scroll Packaging Fees</li>
                <li>VaultMesh‚Ñ¢ API Subscriptions</li>
                <li>PulseGrid‚Ñ¢ and OmniSignal‚Ñ¢ Licensing</li>
            </ul>

            <h3 class="text-xl font-bold mt-10 text-white">‚öñÔ∏è 9. Technology Roadmap</h3>
            <ul class="list-disc ml-6 space-y-1">
                <li>Q2 2025: ScrollClaim‚Ñ¢ v2.2 with multi-claim staking</li>
                <li>Q3 2025: GhostTrace‚Ñ¢ Gen3 with forensic backtrace tooling</li>
                <li>Q4 2025: Autonomous AI Sector Agents</li>
                <li>Q1 2026: Inter-vault Federation</li>
            </ul>

            <h3 class="text-xl font-bold mt-10">üîß 10. Team & Governance</h3>
            <ul class="list-disc ml-6 space-y-1">
                <li>FAA-certified engineers (scroll claimers)</li>
                <li>Scroll Ministers: Compliance + tiering</li>
                <li>Vault Admins: Metadata + ClaimRoot‚Ñ¢ enforcement</li>
                <li>HSOMNI9000‚Ñ¢ Operators: Diamond-tier execution agents</li>
            </ul>

            <p class="text-sm mt-10">üìé This plan can now be exported as HTML, PDF, or ZIP.</p>
        </div>
    </section>

    <section id="about" class="landing-section py-16 md:py-24 px-6 md:px-12 text-center">
        <div class="max-w-4xl mx-auto">
            <h3 class="text-4xl font-bold mb-8">About Fruitful Innovations</h3>
            <p class="text-lg leading-relaxed mb-6">
                At Fruitful, we believe in a future where technology empowers positive change. Our platform is designed to break down traditional barriers, fostering a collaborative ecosystem where businesses and individuals can thrive while making a meaningful impact on the world.
            </p>
            <p class="text-lg leading-relaxed">
                We are committed to transparency, sustainability, and innovation, driven by a powerful AI that ensures fairness, efficiency, and personalized experiences for every user. Join us in building a more fruitful planet.
            </p>
        </div>
    </section>

    <section id="cta-landing" class="landing-section py-16 md:py-24 px-6 md:px-12 text-center">
        <div class="max-w-3xl mx-auto">
            <h3 class="text-4xl font-extrabold mb-8 leading-tight">
                Ready to Transform Your Future?
            </h3>
            <p class="text-xl mb-10">
                Join the Fruitful community today and start your journey towards innovation, connection, and a sustainable tomorrow.
            </p>
            <a href="javascript:void(0)" class="cta-button">
                Sign Up Now
            </a>
        </div>
    </section>

    <!-- Fruitful Dashboard Content (initially hidden) -->
    <div id="fruitful-dashboard-wrapper" class="hidden flex-grow main-content-bg">
        <div class="flex flex-grow dashboard-container">
            <nav class="dashboard-sidebar-bg dashboard-sidebar">
                <h2 class="text-xl font-semibold dashboard-primary-text mb-4">Navigation</h2>
                <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-dashboard-section-id="overview">
                    <i class="fas fa-tachometer-alt"></i> Overview
                </a>
                <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-dashboard-section-id="analytics">
                    <i class="fas fa-chart-line"></i> Data Analytics
                </a>
                <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-dashboard-section-id="admin-panel">
                    <i class="fas fa-users-cog"></i> Admin Panel
                </a>
                <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-dashboard-section-id="music">
                    <i class="fas fa-music"></i> Music & Media
                </a>
                <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-dashboard-section-id="ai-gemini">
                    <i class="fas fa-robot"></i> AI Gemini
                </a>
                <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-dashboard-section-id="maps">
                    <i class="fas fa-map-marked-alt"></i> Maps
                </a>
                <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-dashboard-section-id="meeting-minutes">
                    <i class="fas fa-clipboard-list"></i> Meeting Minutes
                </a>
                <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-dashboard-section-id="settings">
                    <i class="fas fa-cog"></i> Settings
                </a>
            </nav>

            <main class="flex-grow p-8 dashboard-main-content-bg overflow-y-auto dashboard-main-content">
                <div class="flex h-full dashboard-main-content-wrapper">
                    <nav id="musicSubSidebar" class="dashboard-sidebar-bg music-sub-sidebar hidden">
                        <h3 class="text-lg font-semibold dashboard-primary-text mb-3">Music Library</h3>
                        <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-music-sub-section-id="allMusic">
                            <i class="fas fa-compact-disc"></i> All Music
                        </a>
                        <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-music-sub-section-id="musicPlaylists">
                            <i class="fas fa-list-music"></i> Playlists
                        </a>
                        <a href="javascript:void(0)" class="dashboard-sidebar-nav-item" data-music-sub-section-id="artists">
                            <i class="fas fa-microphone-alt"></i> Artists
                        </a>
                    </nav>

                    <div class="flex-grow">
                        <section id="overview" class="mb-8 dashboard-card">
                            <h2 class="text-3xl font-bold dashboard-primary-text mb-6">Dashboard Overview</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div class="dashboard-sub-card">
                                    <h3 class="text-xl font-semibold dashboard-text-light mb-2">Total Users</h3>
                                    <p class="text-4xl font-bold dashboard-primary-text">15,420</p>
                                </div>
                                <div class="dashboard-sub-card">
                                    <h3 class="text-xl font-semibold dashboard-text-light mb-2">Active Projects</h3>
                                    <p class="text-4xl font-bold dashboard-secondary-text">245</p>
                                </div>
                                <div class="dashboard-sub-card">
                                    <h3 class="text-xl font-semibold dashboard-text-light mb-2">Data Processed (TB)</h3>
                                    <p class="text-4xl font-bold text-teal-400">89.5</p>
                                </div>
                            </div>
                            <div class="mt-8">
                                <h3 class="text-2xl font-semibold dashboard-text-light mb-4">Quick Stats</h3>
                                <ul class="list-disc list-inside dashboard-muted-text space-y-2">
                                    <li>Daily Active Users: 3,120</li>
                                    <li>New Registrations This Week: 125</li>
                                    <li>Average Session Duration: 12 min</li>
                                    <li>System Uptime: 99.9%</li>
                                </ul>
                            </div>
                        </section>

                        <section id="analytics" class="hidden mb-8 dashboard-card">
                            <h2 class="text-3xl font-bold dashboard-primary-text mb-6">Data Analytics</h2>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6 grid-cols-2-md">
                                <div class="dashboard-sub-card">
                                    <h3 class="text-xl font-semibold dashboard-text-light mb-2">Usage Trends</h3>
                                    <p class="dashboard-muted-text">Graph showing daily user activity and data consumption.</p>
                                    <div class="mt-4 bg-gray-800 h-48 flex items-center justify-center rounded-md">
                                        <span class="dashboard-muted-text">Placeholder Chart</span>
                                    </div>
                                </div>
                                <div class="dashboard-sub-card">
                                    <h3 class="text-xl font-semibold dashboard-text-light mb-2">Performance Metrics</h3>
                                    <p class="dashboard-muted-text">Key performance indicators over time.</p>
                                    <div class="mt-4 bg-gray-800 h-48 flex items-center justify-center rounded-md">
                                        <span class="dashboard-muted-text">Placeholder Chart</span>
                                    </div>
                                </div>
                            </div>
                        </section>

                        <section id="admin-panel" class="hidden mb-8 dashboard-card">
                            <h2 class="text-3xl font-bold dashboard-primary-text mb-6">Admin Panel</h2>
                            <p class="dashboard-muted-text mb-4">Manage users, review content, and configure system settings.</p>

                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8">
                                <div class="dashboard-sub-card">
                                    <h3 class="text-xl font-semibold dashboard-text-light mb-2">Total Active Admins</h3>
                                    <p class="text-4xl font-bold dashboard-secondary-text">7</p>
                                </div>
                                <div class="dashboard-sub-card">
                                    <h3 class="text-xl font-semibold dashboard-text-light mb-2">Pending Approvals</h3>
                                    <p class="text-4xl font-bold text-yellow-400">12</p>
                                </div>
                                <div class="dashboard-sub-card">
                                    <h3 class="text-xl font-semibold dashboard-text-light mb-2">System Health</h3>
                                    <p class="text-4xl font-bold text-green-400">Optimal</p>
                                </div>
                            </div>

                            <h3 class="text-2xl font-semibold dashboard-text-light mb-4">User Management</h3>
                            <div class="flex flex-col md:flex-row gap-4 mb-6">
                                <input
                                    type="text"
                                    placeholder="Search users..."
                                    class="flex-grow px-4 py-2 rounded-lg bg-gray-700 border dashboard-border-dark dashboard-text-light placeholder-dashboard-muted-text focus:outline-none focus:ring-2 focus:ring-primary-color"
                                >
                                <select class="px-4 py-2 rounded-lg bg-gray-700 border dashboard-border-dark dashboard-text-light focus:outline-none focus:ring-2 focus:ring-primary-color">
                                    <option value="">Filter by Role</option>
                                    <option value="admin">Admin</option>
                                    <option value="user">User</option>
                                    <option value="moderator">Moderator</option>
                                </select>
                                <button class="px-4 py-2 bg-primary-color text-white font-semibold rounded-lg hover:bg-green-600 transition duration-200">Apply Filters</button>
                            </div>
                            <div class="overflow-x-auto mb-8">
                                <table class="min-w-full bg-gray-700 rounded-lg shadow-md">
                                    <thead>
                                        <tr>
                                            <th class="py-3 px-4 text-left text-sm font-semibold dashboard-muted-text uppercase tracking-wider border-b dashboard-border-dark">User ID</th>
                                            <th class="py-3 px-4 text-left text-sm font-semibold dashboard-muted-text uppercase tracking-wider border-b dashboard-border-dark">Name</th>
                                            <th class="py-3 px-4 text-left text-sm font-semibold dashboard-muted-text uppercase tracking-wider border-b dashboard-border-dark">Email</th>
                                            <th class="py-3 px-4 text-left text-sm font-semibold dashboard-muted-text uppercase tracking-wider border-b dashboard-border-dark">Role</th>
                                            <th class="py-3 px-4 text-left text-sm font-semibold dashboard-muted-text uppercase tracking-wider border-b dashboard-border-dark">Status</th>
                                            <th class="py-3 px-4 text-left text-sm font-semibold dashboard-muted-text uppercase tracking-wider border-b dashboard-border-dark">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr class="hover:bg-gray-600 transition duration-200">
                                            <td class="py-3 px-4 border-b dashboard-border-dark">FRTL-001</td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark">Alice Smith</td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark">alice@example.com</td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark">Admin</td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark"><span class="bg-green-500 text-white text-xs font-semibold px-2.5 py-0.5 rounded-full">Active</span></td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark">
                                                <button class="text-blue-400 hover:text-blue-300 mr-2">Edit</button>
                                                <button class="text-red-400 hover:text-red-300">Delete</button>
                                            </td>
                                        </tr>
                                        <tr class="hover:bg-gray-600 transition duration-200">
                                            <td class="py-3 px-4 border-b dashboard-border-dark">FRTL-002</td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark">Bob Johnson</td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark">bob@example.com</td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark">User</td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark"><span class="bg-yellow-500 text-white text-xs font-semibold px-2.5 py-0.5 rounded-full">Pending</span></td>
                                            <td class="py-3 px-4 border-b dashboard-border-dark">
                                                <button class="text-blue-400 hover:text-blue-300 mr-2">Edit</button>
                                                <button class="text-red-400 hover:text-red-300">Delete</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>

                            <h3 class="text-2xl font-semibold dashboard-text-light mb-4">Admin Assistant (AI Powered)</h3>
                            <p class="dashboard-muted-text mb-3">Ask Gemini AI for insights on administrative tasks, user trends, or content moderation advice.</p>
                            <textarea id="adminAIPrompt" rows="4" class="w-full p-3 rounded-lg bg-gray-700 border dashboard-border-dark dashboard-text-light placeholder-dashboard-muted-text focus:outline-none focus:ring-2 focus:ring-purple-400" placeholder="e.g., 'Summarize recent user activity trends for the past week.', 'Suggest a policy for handling spam content.'"></textarea>
                            <button id="sendAdminAIPrompt" class="px-6 py-3 bg-purple-500 text-white font-semibold rounded-lg hover:bg-purple-600 transition duration-200 mt-4 self-end">
                                Ask Admin Assistant
                            </button>
                            <div class="mt-4 p-4 bg-gray-700 rounded-lg border dashboard-border-dark">
                                <h4 class="text-lg font-semibold dashboard-text-light mb-2">Admin Assistant Response:</h4>
                                <div id="adminAIResponse" class="dashboard-text-light whitespace-pre-wrap">
                                    Your AI-powered admin assistant response will appear here.
                                </div>
                                <div id="adminAIError" class="text-red-400 mt-2 hidden"></div>
                            </div>

                        </section>

                        <section id="music" class="hidden mb-8 dashboard-card flex-grow music-content-area">
                            <h2 class="text-3xl font-bold dashboard-primary-text mb-6">Music & Media</h2>
                            <p class="dashboard-muted-text text-center mb-6">Explore curated music and media content from our partners.</p>

                            <div id="allMusicContent" class="flex flex-col items-center justify-center space-y-6">
                                <h3 class="text-xl font-semibold dashboard-text-light mb-2">All Music Tracks</h3>
                                <div class="w-full max-w-xl">
                                    <h4 class="text-lg font-semibold dashboard-text-light mb-2">Album: The Fated Sky</h4>
                                    <iframe style="border-radius:12px" src="https://open.spotify.com/embed/album/3RyjFxsU9hcmg14vqzUUMy?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                                </div>

                                <div class="w-full max-w-xl">
                                    <h4 class="text-lg font-semibold dashboard-text-light mb-2">Track: No Reason</h4>
                                    <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/2kdQY3b6dDRGonyIzcWljc?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                                </div>

                                <div class="w-full max-w-xl">
                                    <h4 class="text-lg font-semibold dashboard-text-light mb-2">Track: Space Song</h4>
                                    <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/6Xe9wT5xeZETPwtaP2ynUz?utm_source=generator" width="100%" height="352" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                                </div>
                            </div>

                            <div id="musicPlaylistsContent" class="hidden">
                                <h3 class="text-xl font-semibold dashboard-text-light mb-4">Your Music Playlists</h3>
                                <ul class="list-disc list-inside dashboard-muted-text space-y-2">
                                    <li>Fruitful Focus Playlist</li>
                                    <li>Deep Work Rhythms</li>
                                    <li>Relax & Grow Collection</li>
                                </ul>
                            </div>

                            <div id="artistsContent" class="hidden">
                                <h3 class="text-xl font-semibold dashboard-text-light mb-4">Featured Artists</h3>
                                <ul class="list-disc list-inside dashboard-muted-text space-y-2">
                                    <li>Artist A - Genre: Ambient</li>
                                    <li>Artist B - Genre: Lo-Fi</li>
                                    <li>Artist C - Genre: Classical</li>
                                </ul>
                            </div>
                        </section>

                        <section id="ai-gemini" class="hidden mb-8 dashboard-card">
                            <h2 class="text-3xl font-bold dashboard-primary-text mb-6">AI Gemini Integration</h2>
                            <p class="dashboard-muted-text mb-4">Interact with the Gemini AI model directly from your dashboard.</p>

                            <div class="api-key-warning mb-4">
                                <strong>Security Alert!</strong> For production, never expose your API key directly in client-side code. Use a backend server to proxy your AI requests.
                            </div>

                            <!-- General Gemini Prompt -->
                            <div class="mb-8">
                                <h3 class="text-xl font-semibold dashboard-text-light mb-3">General Query ‚ú®</h3>
                                <textarea id="geminiPrompt" rows="4" class="w-full p-3 rounded-lg bg-gray-700 border dashboard-border-dark dashboard-text-light placeholder-dashboard-muted-text focus:outline-none focus:ring-2 focus:ring-primary-color" placeholder="Enter your prompt for Gemini AI here... (e.g., 'Explain how AI works in a few words', 'Write a short poem about fruit.')"></textarea>
                                <button id="sendGeminiPrompt" class="px-6 py-3 bg-primary-color text-white font-semibold rounded-lg hover:bg-green-600 transition duration-200 mt-4 self-end">
                                    Send to Gemini
                                </button>
                                <div class="mt-4 p-4 bg-gray-700 rounded-lg border dashboard-border-dark">
                                    <h4 class="text-lg font-semibold dashboard-text-light mb-2">Gemini AI Response:</h4>
                                    <div id="geminiResponse" class="dashboard-text-light whitespace-pre-wrap">
                                        Type a general prompt and click "Send to Gemini" to get a response.
                                    </div>
                                    <div id="geminiError" class="text-red-400 mt-2 hidden"></div>
                                </div>
                            </div>

                            <!-- Coding Partner Feature -->
                            <div class="mb-8">
                                <h3 class="text-xl font-semibold dashboard-text-light mb-3">Coding Partner ‚ú®</h3>
                                <p class="dashboard-muted-text mb-3">Get explanations for code, generate snippets, or debug issues.</p>
                                <textarea id="codingPrompt" rows="6" class="w-full p-3 rounded-lg bg-gray-700 border dashboard-border-dark dashboard-text-light placeholder-dashboard-muted-text focus:outline-none focus:ring-2 focus:ring-secondary-color" placeholder="e.g., 'Explain this Python code: def factorial(n): ...', or 'Write a JavaScript function to sort an array.'"></textarea>
                                <button id="sendCodingPrompt" class="px-6 py-3 bg-secondary-color text-white font-semibold rounded-lg hover:bg-blue-600 transition duration-200 mt-4 self-end">
                                    Ask Coding Partner
                                </button>
                                <div class="mt-4 p-4 bg-gray-700 rounded-lg border dashboard-border-dark">
                                    <h4 class="text-lg font-semibold dashboard-text-light mb-2">Coding Partner Response:</h4>
                                    <div id="codingResponse" class="dashboard-text-light whitespace-pre-wrap">
                                        Ask your coding question here.
                                    </div>
                                    <div id="codingError" class="text-red-400 mt-2 hidden"></div>
                                </div>
                            </div>

                            <!-- Career Guide Feature -->
                            <div>
                                <h3 class="text-xl font-semibold dashboard-text-light mb-3">Career Guide ‚ú®</h3>
                                <p class="dashboard-muted-text mb-3">Receive advice on career paths, resume building, or interview preparation.</p>
                                <textarea id="careerPrompt" rows="4" class="w-full p-3 rounded-lg bg-gray-700 border dashboard-border-dark dashboard-text-light placeholder-dashboard-muted-text focus:outline-none focus:ring-2 focus:ring-teal-400" placeholder="e.g., 'What are key skills for a data scientist?', or 'Give me tips for a software engineering interview.'"></textarea>
                                <button id="sendCareerPrompt" class="px-6 py-3 bg-teal-500 text-white font-semibold rounded-lg hover:bg-teal-600 transition duration-200 mt-4 self-end">
                                    Get Career Advice
                                </button>
                                <div class="mt-4 p-4 bg-gray-700 rounded-lg border dashboard-border-dark">
                                    <h4 class="text-lg font-semibold dashboard-text-light mb-2">Career Guide Response:</h4>
                                    <div id="careerResponse" class="dashboard-text-light whitespace-pre-wrap">
                                        Ask your career question here.
                                    </div>
                                    <div id="careerError" class="text-red-400 mt-2 hidden"></div>
                                </div>
                            </div>
                        </section>

                        <section id="maps" class="hidden mb-8 dashboard-card">
                            <h2 class="text-3xl font-bold dashboard-primary-text mb-6">Interactive Maps</h2>
                            <p class="dashboard-muted-text mb-4">Explore different mapping integrations for your dashboard.</p>

                            <div class="space-y-8">
                                <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                    <h3 class="text-2xl font-semibold dashboard-secondary-text mb-3">Google Maps (Advanced Marker)</h3>
                                    <p class="dashboard-muted-text mb-3">An interactive map powered by Google Maps Platform, featuring advanced markers. Requires an API key.</p>
                                    <gmp-map center="40.12150192260742,-100.45039367675781" zoom="4" map-id="DEMO_MAP_ID">
                                        <gmp-advanced-marker position="40.12150192260742,-100.45039367675781" title="My location"></gmp-advanced-marker>
                                    </gmp-map>
                                    <div class="api-key-warning mt-4">
                                        <strong>IMPORTANT:</strong> The Google Maps API key is embedded in the script tag in `showDashboardSection` function. For production, **never expose your API key directly in client-side code.** Consider using a backend proxy.
                                        <br>
                                        If you are getting an `InvalidKeyMapError`, ensure `AIzaSyBPG8dG29cl0TvYRGyLozejGed5Wj5Ab80` is valid and has "Maps JavaScript API" enabled in your Google Cloud Console, along with correct application restrictions.
                                    </div>
                                </div>

                                <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                    <h3 class="text-2xl font-semibold dashboard-secondary-text mb-3">Leaflet.js with OpenStreetMap</h3>
                                    <p class="dashboard-muted-text mb-3">A free and open-source interactive map solution using OpenStreetMap data. No API key needed for basic use.</p>
                                    <div id="leaflet-map-container"></div>
                                </div>
                            </div>
                        </section>

                        <section id="meeting-minutes" class="hidden mb-8 dashboard-card">
                            <h2 class="text-3xl font-bold dashboard-primary-text mb-6">Meeting Minutes: Fruitful Dashboard Development</h2>
                            <p class="text-lg dashboard-muted-text mb-4">A quick recap of our discussions regarding API integrations and future features.</p>

                            <div class="space-y-8">
                                <div>
                                    <h3 class="text-2xl font-semibold dashboard-text-light mb-3">Meeting Details:</h3>
                                    <ul class="list-disc list-inside ml-4 dashboard-text-light space-y-1">
                                        <li><strong>Date:</strong> June 23, 2025</li>
                                        <li><strong>Time:</strong> 18:45 SAST (6:45 PM, Silver Lakes Golf Estate, Gauteng, South Africa)</li>
                                        <li><strong>Attendees:</strong> Fruitful Dashboard Development Team (represented by user and Gemini AI)</li>
                                    </ul>
                                </div>

                                <div>
                                    <h3 class="text-2xl font-semibold dashboard-text-light mb-3">1. Review of Previous API Discussions:</h3>
                                    <div class="space-y-4 ml-4">
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Design Styling API Key:</h4>
                                            <p class="dashboard-muted-text"><strong>Conclusion:</strong> No single "API key" for generic styling. Styling handled primarily by CSS (e.g., Tailwind CSS). Specific design services (e.g., Google Fonts, mapping APIs with custom styles) *would* require their own API keys.</p>
                                            <p class="dashboard-muted-text mt-1"><strong>Action:</strong> Continue using Tailwind CSS. Explore specific API-driven styling if a particular design service is integrated.</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Language Toggler:</h4>
                                            <p class="dashboard-muted-text"><strong>Conclusion:</strong> Achieved via JavaScript logic and `data-key` attributes for translatable text. No external API key strictly necessary for the toggler if translations are stored locally.</p>
                                            <p class="dashboard-muted-text mt-1"><strong>Action:</strong> Current implementation is good. For complex internationalization, consider dedicated I18n JavaScript libraries or a translation API if dynamic, on-the-fly translation is required.</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Selector to Change All Text in HTML with Script:</h4>
                                            <p class="dashboard-muted-text"><strong>Conclusion:</strong> `document.querySelectorAll()` with specific tag names or custom attributes is the best method for targeted text manipulation. Use `document.querySelectorAll('*')` with extreme caution.</p>
                                            <p class="dashboard-muted-text mt-1"><strong>Action:</strong> Continue using specific selectors for controlled text modification.</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">General Helpful API Categories (Recap):</h4>
                                            <ul class="list-disc list-inside ml-4 dashboard-muted-text space-y-1">
                                                <li>**Mapping & Location:** Google Maps Platform (requires key).</li>
                                                <li>**Data & Information:** OpenWeatherMap (key), REST Countries (often no key), News API (key), Free Dictionary (no key).</li>
                                                <li>**Authentication & User Management:** Firebase Auth, Auth0.</li>
                                                <li>**Payment Processing:** Stripe (key), PayPal (credentials).</li>
                                                <li>**AI/ML:** OpenAI (key), Hugging Face Inference API (key), **Gemini API (key - our current focus!)**.</li>
                                                <li>**Image/Media:** Pexels API / Unsplash API (keys).</li>
                                                <li>**Utility:** Bitly API (key), SendGrid API / Mailgun API (keys).</li>
                                            </ul>
                                            <p class="api-key-warning mt-3">
                                                <strong>CRITICAL SECURITY NOTE:</strong> Never expose API keys directly in client-side code. Use a backend server or strict restrictions.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="text-2xl font-semibold dashboard-text-light mb-3">2. Gemini API Integration (Current Progress & Understanding):</h3>
                                    <div class="space-y-4 ml-4">
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">What does a Gemini API Key do? (for "Baby Staff"):</h4>
                                            <p class="dashboard-text-light mb-2">Imagine the Gemini AI as a super-smart robot brain that lives far away in a Google data center. This robot brain can do amazing things like talk like a human, understand pictures, summarize long texts, and write code.</p>
                                            <p class="dashboard-text-light mb-2">**Your Gemini API Key is like a special secret VIP pass** that allows your Fruitful Dashboard to "talk" to this super-smart robot brain. It tells Google it's *our* dashboard asking, keeps track of usage, and ensures safe communication.</p>
                                            <p class="dashboard-text-light">**Crucial Point for "Baby Staff":** This API key is a **secret!** Never show it to anyone who shouldn't have access, and never put it directly into code that everyone can see (like the HTML if it's on a public website). It's like your house key ‚Äì keep it safe!</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Key Acquisition:</h4>
                                            <p class="dashboard-muted-text">API keys are obtained via <a href="https://aistudio.google.com/" target="_blank" class="dashboard-secondary-text hover:underline">Google AI Studio</a>.</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Current Dashboard Implementation:</h4>
                                            <p class="dashboard-muted-text">A new "AI Gemini" section has been added with a general prompt area, plus new specialized "Coding Partner" and "Career Guide" features, all powered by Gemini AI. The API key for Gemini is now explicitly set using the key you provided (`AIzaSyBGSDZATtITv5iIoB3rgKHBpWx9MrufxXE`).</p>
                                            <p class="api-key-warning mt-2">
                                                <strong>ACTION REQUIRED for PRODUCTION:</strong> While the key is now in the code, for any production deployment, move this API call to a secure backend server to protect your key.
                                            </p>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="text-2xl font-semibold dashboard-text-light mb-3">3. Discussion of New API-related Features for Fruitful Dashboard:</h3>
                                    <div class="space-y-6 ml-4">
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2"><i class="fas fa-code"></i> Coding Partner Integration:</h4>
                                            <p class="dashboard-muted-text"><strong>Concept:</strong> Use Gemini AI's code generation and explanation capabilities.</p>
                                            <p class="dashboard-muted-text"><strong>API(s) to explore:</strong> Gemini API (already integrated).</p>
                                            <p class="dashboard-muted-text"><strong>Implementation Idea:</strong> Integrated into "AI Gemini" section with dedicated input/output.</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2"><i class="fas fa-graduation-cap"></i> Career Guide Integration:</h4>
                                            <p class="dashboard-muted-text"><strong>Concept:</strong> Leverage AI to provide career advice, resume tips, interview prep, or learning paths.</p>
                                            <p class="dashboard-muted-text"><strong>API(s) to explore:</strong> Gemini API (primary), potentially specialized career APIs for structured data.</p>
                                            <p class="dashboard-muted-text"><strong>Implementation Idea:</strong> New "Career Insights" section where users input goals/questions for AI-generated guidance.</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2"><i class="fas fa-mobile-alt"></i> "ü¶ä Foxed Has Mobiles‚Ñ¢" - Product Data/Inventory Integration:</h4>
                                            <p class="dashboard-muted-text"><strong>Concept:</strong> Pull mobile product data (names, specs, prices, stock) from a dedicated system.</p>
                                            <p class="dashboard-muted-text"><strong>API(s) to explore:</strong> Likely a **custom API** from "Foxed Has Mobiles‚Ñ¢" or a third-party e-commerce platform API (Shopify, WooCommerce).</p>
                                            <p class="dashboard-muted-text"><strong>Action:</strong> Contact "Foxed Has Mobiles‚Ñ¢" for API documentation and keys.</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2"><i class="fas fa-shield-alt"></i> "üå≥ Baobab Security Network‚Ñ¢" - Security Monitoring:</h4>
                                            <p class="dashboard-muted-text"><strong>Concept:</strong> Display security alerts, network status, or security logs.</p>
                                            <p class="dashboard-muted-text"><strong>API(s) to explore:</strong> Likely a **custom API** from "Baobab Security Network‚Ñ¢".</p>
                                            <p class="dashboard-muted-text"><strong>Action:</strong> Obtain API documentation and credentials from "Baobab Security Network‚Ñ¢".</p>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg border dashboard-border-dark">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2"><i class="fas fa-shopping-cart"></i> "üå±Global_Complete_purchase" & "üå±Global_checkout_success" - E-commerce Analytics:</h4>
                                            <p class="dashboard-muted-text"><strong>Concept:</strong> Track successful purchases and checkout completions.</p>
                                            <p class="dashboard-muted-text"><strong>API(s) to explore:</strong> Google Analytics Data API, Custom E-commerce Platform API, CRM/ERP APIs.</p>
                                            <p class="dashboard-muted-text"><strong>Implementation Idea:</strong> New charts/metrics in "Data Analytics" showing conversion rates, successful purchases, checkout funnel performance.</p>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="text-2xl font-semibold dashboard-text-light mb-3">4. Live Demos (for Visual Learners / "Baby Staff"):</h3>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <div class="dashboard-card p-4 rounded-lg shadow-md border dashboard-border-dark flex flex-col items-center">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Live Google Map</h4>
                                            <p class="dashboard-muted-text mb-3">A real-time map, demonstrating location services. (Replace with your actual embed!)</p>
                                            <div class="w-full h-64 bg-gray-800 rounded-lg overflow-hidden flex items-center justify-center">
                                                <iframe src="YOUR_GOOGLE_MAP_EMBED_CODE" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                                                <span class="dashboard-muted-text absolute text-center">**PLACEHOLDER MAP**<br>Get your embed code from Google Maps.</span>
                                            </div>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg shadow-md border dashboard-border-dark flex flex-col items-center">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Live YouTube Video</h4>
                                            <p class="dashboard-muted-text mb-3">An embedded video, showing media integration. (Replace with your actual embed!)</p>
                                            <div class="w-full h-64 bg-gray-800 rounded-lg overflow-hidden flex items-center justify-center">
                                                <iframe width="100%" height="100%" src="YOUR_YOUTUBE_EMBED_CODE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                                                <span class="dashboard-muted-text absolute text-center">**PLACEHOLDER VIDEO**<br>Get your embed code from YouTube.</span>
                                            </div>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg shadow-md border dashboard-border-dark flex flex-col items-center">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Live Spotify Music</h4>
                                            <p class="dashboard-muted-text mb-3">Interactive Spotify embeds for albums/tracks.</p>
                                            <div class="w-full h-64 bg-gray-800 rounded-lg overflow-hidden flex flex-col items-center justify-center space-y-2 p-2">
                                                <iframe style="border-radius:12px" src="https://open.spotify.com/embed/album/3RyjFxsU9hcmg14vqzUUMy?utm_source=generator" width="90%" height="100" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                                                <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/2kdQY3b6dDRGonyIzcWljc?utm_source=generator" width="90%" height="100" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                                                <iframe style="border-radius:12px" src="https://open.spotify.com/embed/track/6Xe9wT5xeZETPwtaP2ynUz?utm_source=generator" width="90%" height="100" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture" loading="lazy"></iframe>
                                            </div>
                                        </div>
                                        <div class="dashboard-card p-4 rounded-lg shadow-md border dashboard-border-dark flex flex-col items-center">
                                            <h4 class="text-xl font-medium dashboard-secondary-text mb-2">Gemini AI Test (re-iterated)</h4>
                                            <p class="dashboard-muted-text mb-3">See our core AI integration in action.</p>
                                            <div class="w-full h-64 bg-gray-800 rounded-lg p-4 overflow-auto text-sm dashboard-text-light">
                                                <p>This is where our Gemini AI interacts. You can test it in the "AI Gemini" section!</p>
                                                <p class="mt-2 dashboard-muted-text">Example: Ask the AI "What is the capital of France?"</p>
                                                <p class="mt-2 text-red-400">**Remember to add your actual API Key!**</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="text-2xl font-semibold dashboard-text-light mb-3">5. Action Items for the Team:</h3>
                                    <ul class="list-disc list-inside ml-4 dashboard-text-light space-y-2">
                                        <li>**IMMEDIATE & CRITICAL:** Replace `YOUR_GEMINI_API_KEY` in the JavaScript with your actual key from Google AI Studio.</li>
                                        <li>**SECURITY:** Begin planning for secure backend proxying of all API calls for production deployment.</li>
                                        <li>**API ACQUISITION:** Contact "Foxed Has Mobiles‚Ñ¢" and "Baobab Security Network‚Ñ¢" for their API documentation and access credentials.</li>
                                        <li>**ANALYTICS:** Investigate Google Analytics Data API or e-commerce platform APIs for detailed purchase/checkout event tracking.</li>
                                        <li>**UI/UX:** Brainstorm and design user interfaces for "Coding Partner" and "Career Guide" functionalities.</li>
                                        <li>**EMBED CODES:** Generate actual embed codes for the live demos (Google Maps, YouTube, Spotify) to make this section truly "live" for the team.</li>
                                        <li>**CONTINUOUS LEARNING:** Encourage "baby staff" to review API documentation for any integrated service to understand capabilities and limitations.</li>
                                    </ul>
                                </div>
                            </div>
                        </section>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Banimal Landing Page Content -->
    <section id="banimal-landing-page" class="hidden landing-section">
        <canvas id="banimal-canvas"></canvas>
        <div class="banimal-hero-content">
            <h1>Banimal‚Ñ¢: <br> <span>üêëKind Creatures. Global Impact.</span></h1>
            <p>
                Discover Banimal's world of thoughtful baby essentials & innovative lighting. For every purchase, we deliver the same item to a child in need, identified by the Baobab Security Network's data-driven insights.
            </p>
            <div class="button-container flex flex-wrap justify-center gap-4 mt-6">
                <a href="javascript:void(0)" class="cta-button">
                    Explore Banimal's World <i class="fas fa-arrow-right"></i>
                </a>
                <a href="https://www.banimal.co.za/" target="_blank" class="cta-button shop-now-button">
                    Shop Now <i class="fas fa-external-link-alt"></i>
                </a>
            </div>
        </div>
    </section>

    <footer class="py-8 px-6 md:px-12 text-center">
        ¬© 2025 FAA‚Ñ¢ Treaty System‚Ñ¢. All Rights Reserved. Powered by ü¶ç glyphs + Vault API. Synced with Seedwave‚Ñ¢.
    </footer>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
     integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
     crossorigin=""></script>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Firebase Configuration (provided by Canvas environment)
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');

        // Initialize Firebase
        let app;
        let db;
        let auth;
        let userId = 'anonymous'; // Default to anonymous

        // --- Global Landing Page Variables ---
        let googleMapScriptLoaded = false;
        let leafletMapInstance = null; // Store Leaflet map instance
        let banimalAnimationFrameId; // Store Banimal canvas animation frame ID

        // Gemini API Key from your original dashboard file
        const GEMINI_API_KEY = "AIzaSyBGSDZATtITv5iIoB3rgKHBpWx9MrufxXE";
        // Google Maps API Key from your original dashboard file
        const GOOGLE_MAPS_API_KEY = "AIzaSyBPG8dG29cl0TvYRGyLozejGed5Wj5Ab80";

        // --- RiteNest Dashboard Specific Variables and Data ---
        let RiteNestDashboard = {}; // Namespace for all RiteNest functions and data
        RiteNestDashboard.activeTab = 'overview'; // Default active tab for RiteNest
        RiteNestDashboard.simulatedRitualData = [
            { id: 'r1', name: 'Rain Dance of the Ancestors', type: 'Ceremony', status: 'Verified', lastUpdated: '2024-06-15' },
            { id: 'r2', name: 'Oral History: Elder Thabo', type: 'Oral History', status: 'In Progress', lastUpdated: '2024-07-01' },
            { id: 'r3', name: 'Artifact: Ancient Drum', type: 'Artifact Description', status: 'Pending Review', lastUpdated: '2024-06-28' },
            { id: 'r4', name: 'Harvest Blessing Ritual', type: 'Ceremony', status: 'Documented', lastUpdated: '2024-06-20' },
            { id: 'r5', name: 'Ancestral Chant Compilation', type: 'Oral History', status: 'In Progress', lastUpdated: '2024-07-02' },
            { id: 'r6', name: 'Initiation Ceremony Guide', type: 'Ritual Practice', status: 'Documented', lastUpdated: '2024-06-25' },
        ];
        RiteNestDashboard.simulatedTotems = [
            { id: 't1', name: 'Elephant Clan Totem', description: 'Associated with strength and wisdom.', origin: 'Zulu' },
            { id: 't2', name: 'Sacred Healing Staff', description: 'Passed down through generations of healers.', origin: 'Xhosa' },
            { id: 't3', name: 'Ancestral Mask of Protection', description: 'Used in ceremonial dances.', origin: 'Ndebele' },
        ];
        RiteNestDashboard.simulatedMedia = [
            { id: 'm1', title: 'Zulu Wedding Ceremony', type: 'Video', description: 'Recorded 2023-09-10.', url: 'https://placehold.co/200x150/065f46/d1fae5?text=Video' },
            { id: 'm2', title: 'San Bushman Storytelling', type: 'Audio', description: 'Oral history from 1980s.', url: 'https://placehold.co/200x150/065f46/d1fae5?text=Audio' },
            { id: 'm3', title: 'Sacred Ndebele Patterns', type: 'Image', description: 'Detailed imagery of traditional art.', url: 'https://placehold.co/200x150/065f46/d1fae5?text=Image' },
        ];
        RiteNestDashboard.simulatedProvenanceRecords = [
            { id: 'p1', contentId: 'r1', event: 'Original Oral History Recorded', timestamp: '2023-01-15 10:30 SAST', hash: '0xabc1234567890def' },
            { id: 'p2', contentId: 'r1', event: 'Transcription & Initial Tagging', timestamp: '2023-01-20 14:00 SAST', hash: '0xdef4567890abc1' },
            { id: 'p3', contentId: 'r2', event: 'Elder Verification & Approval', timestamp: '2023-02-01 09:00 SAST', hash: '0xghi7890123456def' },
        ];
        RiteNestDashboard.simulatedDiscussionPosts = [
            { id: 'd1', title: 'The Role of Water in Cleansing Rituals', author: 'CommunityMember123', timestamp: '2 hours ago', content: "I've been researching the use of water in various African cleansing ceremonies. It seems to symbolize purity and renewal across many cultures. Does anyone have insights into specific regional variations or historical contexts?", likes: 15, comments: 5 },
            { id: 'd2', title: 'Challenges in Documenting Oral Traditions', author: 'HeritagePreserver', timestamp: 'yesterday', content: "What are the best practices for accurately capturing and transcribing oral histories, especially when dealing with multiple dialects or nuanced storytelling? Any tools or methodologies recommended?", likes: 22, comments: 8 },
        ];
        RiteNestDashboard.simulatedLearningResources = [
            { id: 'lr1', title: 'Webinar: Digital Ethics in Heritage Preservation', type: 'Webinar', date: '2024-07-20', speaker: 'Dr. Naledi Mokoena', description: 'Explore the ethical considerations of digitizing indigenous knowledge.', action: 'Register Now' },
            { id: 'lr2', title: 'Guide: Understanding Ancestral Lineage', type: 'Guide', format: 'PDF', author: 'RiteNest Team', description: 'A comprehensive guide to researching and tracing your family\'s heritage.', action: 'Download Guide' },
        ];

        RiteNestDashboard.ritualTypeChartInstance = null;
        RiteNestDashboard.documentationProgressChartInstance = null;
        RiteNestDashboard.overallStatusChartInstance = null;
        RiteNestDashboard.monthlyRateChartInstance = null;

        // --- Landing Page Specific Functions ---

        // Function to toggle main landing page sections and the dashboard
        function showMainSection(sectionIdToShow) {
            // Stop any active canvas animations
            if (banimalAnimationFrameId) {
                cancelAnimationFrame(banimalAnimationFrameId);
                banimalAnimationFrameId = null;
            }

            // Hide all landing page sections
            document.querySelectorAll('.landing-section').forEach(section => {
                section.classList.add('hidden');
            });
            // Hide the dashboard wrapper
            document.getElementById('fruitful-dashboard-wrapper').classList.add('hidden');
            document.getElementById('fruitful-dashboard-wrapper').classList.remove('flex'); // Ensure flex is removed when hidden

            // Show the selected section
            const sectionToShow = document.getElementById(sectionIdToShow);
            if (sectionToShow) {
                sectionToShow.classList.remove('hidden');
            }

            // Update active state for main header navigation links
            document.querySelectorAll('.header-nav-item').forEach(link => {
                link.classList.remove('header-nav-active');
            });
            const clickedLink = document.querySelector(`.header-nav-item[data-section-id="${sectionIdToShow}"]`);
            if (clickedLink) {
                clickedLink.classList.add('header-nav-active');
            }

            // Special handling for dashboard display
            if (sectionIdToShow === 'fruitful-dashboard-wrapper') {
                sectionToShow.classList.add('flex'); // Ensure dashboard wrapper uses flex for layout
                showDashboardSection('overview'); // Show the default dashboard sub-section
            } else {
                // Ensure main dashboard sections are hidden when not viewing dashboard
                document.querySelectorAll('#fruitful-dashboard-wrapper main section').forEach(section => {
                    section.classList.add('hidden');
                });
                // Hide music sub-sidebar if moving away from dashboard
                document.getElementById('musicSubSidebar').classList.add('hidden');
            }

            // Special handling for Banimal page to start canvas animation
            if (sectionIdToShow === 'banimal-landing-page') {
                initBanimalParticles(); // Re-initialize particles to avoid artifacts
                animateBanimalCanvas();
            }

            window.scrollTo({ top: 0, behavior: 'smooth' }); // Scroll to top of the new section
        }

        // Function to load terminal content into the iframe (from landing page)
        function loadTerminal(url) {
            document.getElementById('vault-frame').src = url;
            // Remove ring from all buttons and add to the clicked one
            document.querySelectorAll('.terminal-btn').forEach(btn => btn.classList.remove('ring', 'ring-blue-500'));
            // Use event.currentTarget to ensure the clicked button is targeted
            if (event && event.currentTarget) {
                event.currentTarget.classList.add('ring', 'ring-blue-500');
            }
            console.log("üß¨ Terminal loaded:", url);
        }

        // Script for Share Signal (mock price update from landing page)
        function updateSharePrice() {
            const mockPrice = (80 + Math.random() * 10).toFixed(2);
            document.getElementById('price').innerText = `$${mockPrice}`;
            document.getElementById('timestamp').innerText = new Date().toLocaleTimeString();
        }

        // Chart.js for Seedwave Growth (from landing page)
        function initializeBrandChart() {
            const ctx = document.getElementById('brandChart')?.getContext('2d');
            if (ctx) {
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['Q1', 'Q2', 'Q3', 'Q4'],
                        datasets: [{
                            label: 'Treaty Brands Activated',
                            data: [3, 7, 13, 21],
                            borderWidth: 2,
                            borderColor: '#00e393',
                            tension: 0.4,
                            fill: true,
                            backgroundColor: 'rgba(0, 227, 147, 0.15)',
                            pointRadius: 4,
                            pointBackgroundColor: '#00e393',
                            pointBorderColor: '#1a1b20',
                            pointHoverRadius: 6
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)',
                                    drawBorder: false
                                },
                                ticks: {
                                    color: '#a0aec0'
                                }
                            },
                            x: {
                                grid: {
                                    color: 'rgba(255, 255, 255, 0.1)',
                                    drawBorder: false
                                },
                                ticks: {
                                    color: '#a0aec0'
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                display: false,
                                labels: {
                                    color: '#e2e8f0'
                                }
                            }
                        }
                    }
                });
            }
        }


        // --- Dashboard Specific Functions ---

        // This function initializes the Leaflet map (from dashboard)
        function initLeafletMap() {
            const mapContainer = document.getElementById("leaflet-map-container");
            if (!mapContainer || leafletMapInstance) return; // Prevent re-initialization

            // Initialize the map and set its view to chosen geographical coordinates and a zoom level (London)
            leafletMapInstance = L.map(mapContainer).setView([51.505, -0.09], 13);

            // Add an OpenStreetMap tile layer to the map
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                maxZoom: 19,
                attribution: '¬© <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            }).addTo(leafletMapInstance);

            // Add a marker to the map
            const marker = L.marker([51.5, -0.09]).addTo(leafletMapInstance);

            // Add a popup to the marker
            marker.bindPopup("<b>Hello world!</b><br>I am a popup.").openPopup();
        }

        function showDashboardSection(sectionId) {
            activeDashboardSubSection = sectionId; // Update the active sub-section for dashboard

            // Hide all dashboard sections
            document.querySelectorAll('#fruitful-dashboard-wrapper main section').forEach(section => {
                section.classList.add('hidden');
            });

            // Show the selected dashboard section
            const activeSection = document.getElementById(sectionId);
            if (activeSection) {
                activeSection.classList.remove('hidden');
            }

            // Update active state for dashboard sidebar links
            document.querySelectorAll('.dashboard-sidebar-nav-item').forEach(link => {
                link.classList.remove('dashboard-active-nav-item');
            });
            const clickedLink = document.querySelector(`.dashboard-sidebar-nav-item[data-dashboard-section-id="${sectionId}"]`);
            if (clickedLink) {
                clickedLink.classList.add('dashboard-active-nav-item');
            }

            // Handle visibility of music sub-sidebar
            const musicSubSidebar = document.getElementById('musicSubSidebar');
            if (sectionId === 'music') {
                musicSubSidebar.classList.remove('hidden');
                musicSubSidebar.classList.add('flex'); // Use flex to make it visible and take space
                showMusicSubSection('allMusic'); // Show the default music sub-section
            } else {
                musicSubSidebar.classList.add('hidden');
                musicSubSidebar.classList.remove('flex');
            }

            // Special handling for maps section to load Google Maps script and initialize Leaflet
            if (sectionId === 'maps') {
                // Load Google Maps script only once if not already loaded
                if (!googleMapScriptLoaded && document.getElementById('google-maps-api-script') === null) {
                    const script = document.createElement('script');
                    script.id = 'google-maps-api-script'; // Give it a unique ID
                    script.async = true;
                    script.defer = true;
                    script.src = `https://maps.googleapis.com/maps/api/js?key=${GOOGLE_MAPS_API_KEY}&callback=console.debug&libraries=maps,marker&v=beta`;
                    document.body.appendChild(script);
                    googleMapScriptLoaded = true; // Mark as loaded or loading
                }
                // Initialize Leaflet map when the section is shown
                initLeafletMap();
            }
        }

        function showMusicSubSection(subSectionId) {
            activeMusicSubSection = subSectionId; // Update the active sub-section

            // Hide all music sub-sections
            document.querySelectorAll('#music > div').forEach(subSection => {
                subSection.classList.add('hidden');
            });

            // Show the selected music sub-section
            const activeSubSectionContent = document.getElementById(subSectionId + 'Content');
            if (activeSubSectionContent) {
                activeSubSectionContent.classList.remove('hidden');
            }

            // Update active state for music sub-sidebar links
            document.querySelectorAll('#musicSubSidebar .dashboard-sidebar-nav-item').forEach(link => {
                link.classList.remove('dashboard-active-nav-item');
            });
            const clickedSubLink = document.querySelector(`#musicSubSidebar .dashboard-sidebar-nav-item[data-music-sub-section-id="${subSectionId}"]`);
            if (clickedSubLink) {
                clickedSubLink.classList.add('dashboard-active-nav-item');
            }
        }

        // Helper function for making API calls to Gemini (Dashboard)
        async function callGeminiAPI(prompt, responseDiv, errorDiv) {
            responseDiv.textContent = 'Generating response...';
            errorDiv.classList.add('hidden'); // Hide previous errors

            if (!prompt) {
                responseDiv.textContent = 'Please enter a prompt.';
                return;
            }

            if (!GEMINI_API_KEY || GEMINI_API_KEY === 'YOUR_GEMINI_API_KEY') {
                responseDiv.textContent = '';
                errorDiv.textContent = 'Error: Gemini API Key is missing or invalid. Please ensure it\'s set correctly.';
                errorDiv.classList.remove('hidden');
                return;
            }

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${GEMINI_API_KEY}`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        contents: [{
                            parts: [{
                                text: prompt
                            }]
                        }]
                    })
                });

                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(`API Error: ${response.status} ${response.statusText} - ${errorData.error.message || 'Unknown error'}`);
                }

                const data = await response.json();
                const aiResponse = data.candidates?.[0]?.content?.parts?.[0]?.text || 'No response from AI.';
                responseDiv.textContent = aiResponse;

            } catch (error) {
                console.error("Error calling Gemini API:", error);
                responseDiv.textContent = ''; // Clear "Generating response..."
                errorDiv.textContent = `Failed to get AI response: ${error.message}. Check your Gemini API key and network.`;
                errorDiv.classList.remove('hidden');
            }
        }

        // Event listener for General Query (Dashboard)
        document.addEventListener('click', async (event) => {
            if (event.target && event.target.id === 'sendGeminiPrompt') {
                const promptText = document.getElementById('geminiPrompt').value.trim();
                const responseDiv = document.getElementById('geminiResponse');
                const errorDiv = document.getElementById('geminiError');
                callGeminiAPI(promptText, responseDiv, errorDiv);
            }
        });

        // Event listener for Coding Partner (Dashboard)
        document.addEventListener('click', async (event) => {
            if (event.target && event.target.id === 'sendCodingPrompt') {
                const codingPromptText = document.getElementById('codingPrompt').value.trim();
                const responseDiv = document.getElementById('codingResponse');
                const errorDiv = document.getElementById('codingError');
                const fullPrompt = `Act as a coding assistant. ${codingPromptText}`;
                callGeminiAPI(fullPrompt, responseDiv, errorDiv);
            }
        });

        // Event listener for Career Guide (Dashboard)
        document.addEventListener('click', async (event) => {
            if (event.target && event.target.id === 'sendCareerPrompt') {
                const careerPromptText = document.getElementById('careerPrompt').value.trim();
                const responseDiv = document.getElementById('careerResponse');
                const errorDiv = document.getElementById('careerError');
                const fullPrompt = `Act as a career guide. ${careerPromptText}`;
                callGeminiAPI(fullPrompt, responseDiv, errorDiv);
            }
        });

        // Event listener for Admin Assistant (Dashboard)
        document.addEventListener('click', async (event) => {
            if (event.target && event.target.id === 'sendAdminAIPrompt') {
                const adminPromptText = document.getElementById('adminAIPrompt').value.trim();
                const responseDiv = document.getElementById('adminAIResponse');
                const errorDiv = document.getElementById('adminAIError');
                const fullPrompt = `Act as an admin assistant for a dashboard. ${adminPromptText}`;
                callGeminiAPI(fullPrompt, responseDiv, errorDiv);
            }
        });


        // --- Banimal Canvas Animation Functions ---
        let banimalCanvas = null;
        let banimalCtx = null;
        let banimalParticles = [];
        const numBanimalParticles = 150;

        class BanimalParticle {
            constructor() {
                this.x = Math.random() * banimalCanvas.width;
                this.y = Math.random() * banimalCanvas.height;
                this.radius = Math.random() * 1.5 + 0.5;
                this.alpha = 0;
                this.speed = Math.random() * 0.3 + 0.05;
                this.directionX = Math.random() * 2 - 1;
                this.directionY = Math.random() * 2 - 1;
                const randomColorIndex = Math.floor(Math.random() * 2);
                const colors = ['rgba(255, 240, 237, ', 'rgba(248, 220, 220, ']; // banimal-soft-peach, banimal-soft-pink
                this.baseColor = colors[randomColorIndex];
            }

            update() {
                this.x += this.directionX * this.speed;
                this.y += this.directionY * this.speed;

                if (this.alpha < 0.7 && this.speed > 0) {
                    this.alpha += 0.003;
                } else if (this.alpha > 0) {
                    this.alpha -= 0.001;
                } else {
                    this.x = Math.random() * banimalCanvas.width;
                    this.y = Math.random() * banimalCanvas.height;
                    this.alpha = 0;
                    this.speed = Math.random() * 0.3 + 0.05;
                    this.directionX = Math.random() * 2 - 1;
                    this.directionY = Math.random() * 2 - 1;
                }

                if (this.x < -this.radius || this.x > banimalCanvas.width + this.radius || this.y < -this.radius || this.y > banimalCanvas.height + this.radius) {
                    this.x = Math.random() * banimalCanvas.width;
                    this.y = Math.random() * banimalCanvas.height;
                    this.alpha = 0;
                }
            }

            draw() {
                banimalCtx.beginPath();
                banimalCtx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                banimalCtx.fillStyle = this.baseColor + this.alpha + ')';
                banimalCtx.shadowBlur = 5;
                banimalCtx.shadowColor = this.baseColor + (this.alpha * 0.8) + ')';
                banimalCtx.fill();
                banimalCtx.shadowBlur = 0;
            }
        }

        function resizeBanimalCanvas() {
            if (banimalCanvas) {
                banimalCanvas.width = window.innerWidth;
                banimalCanvas.height = window.innerHeight;
            }
        }

        function initBanimalParticles() {
            banimalCanvas = document.getElementById('banimal-canvas');
            if (!banimalCanvas) return; // Exit if canvas is not available

            banimalCtx = banimalCanvas.getContext('2d');
            resizeBanimalCanvas();
            window.removeEventListener('resize', resizeBanimalCanvas); // Prevent duplicate listeners
            window.addEventListener('resize', resizeBanimalCanvas);

            banimalParticles = []; // Clear existing particles
            for (let i = 0; i < numBanimalParticles; i++) {
                banimalParticles.push(new BanimalParticle());
            }
        }

        function animateBanimalCanvas() {
            if (!banimalCtx) return; // Exit if context is not available

            banimalCtx.fillStyle = 'rgba(255, 255, 255, 0.02)';
            banimalCtx.fillRect(0, 0, banimalCanvas.width, banimalCanvas.height);

            for (let i = 0; i < banimalParticles.length; i++) {
                banimalParticles[i].update();
                banimalParticles[i].draw();
            }
            banimalAnimationFrameId = requestAnimationFrame(animateBanimalCanvas);
        }

        // --- RiteNest Dashboard Specific Functions (namespaced under RiteNestDashboard) ---

        // Function to switch between RiteNest internal tabs/sections
        RiteNestDashboard.switchTab = function(tabId) {
            RiteNestDashboard.activeTab = tabId; // Update active tab state

            // Deactivate all RiteNest tab buttons and hide all RiteNest tab content
            document.querySelectorAll('#ritenest-full-dashboard-section .ritenest-tab-nav-item').forEach(button => {
                button.classList.remove('active');
            });
            document.querySelectorAll('#ritenest-full-dashboard-section .ritenest-tab-content').forEach(content => {
                content.classList.remove('active');
            });

            // Activate the clicked RiteNest tab button and show its content
            document.querySelector(`#ritenest-full-dashboard-section .ritenest-tab-nav-item[data-ritenest-tab="${tabId}"]`).classList.add('active');
            document.getElementById(`ritenest-${tabId}`).classList.add('active');

            // Re-render charts when their section becomes active to ensure they draw correctly
            if (tabId === 'overview' || tabId === 'documentation-progress') {
                RiteNestDashboard.updateRitualTypeChart();
                RiteNestDashboard.updateDocumentationProgressChart();
                RiteNestDashboard.updateOverallStatusChart();
                RiteNestDashboard.updateMonthlyRateChart();
            }
            // Also re-render lists for other sections when their tab is activated
            if (tabId === 'totemtrack') {
                RiteNestDashboard.renderTotemList();
            } else if (tabId === 'vaultspirit') {
                RiteNestDashboard.renderMediaList();
            } else if (tabId === 'glyphtag') {
                RiteNestDashboard.renderProvenanceChainDisplay();
            } else if (tabId === 'scrollloop') {
                RiteNestDashboard.renderDiscussionPosts();
                RiteNestDashboard.renderLearningResources();
            }
        };

        // RiteNest Overview Section Functions
        RiteNestDashboard.updateOverviewMetrics = function() {
            document.getElementById('ritenestTotalRitualsCount').textContent = RiteNestDashboard.simulatedRitualData.length;
            document.getElementById('ritenestActiveContributorsCount').textContent = 15; // Simulated
            document.getElementById('ritenestStorageUsed').textContent = (RiteNestDashboard.simulatedRitualData.length * 0.05 + Math.random() * 2).toFixed(2); // Simulated storage
        };

        // RiteNest Documentation Progress Section Functions
        RiteNestDashboard.updateProgressMetrics = function() {
            const total = RiteNestDashboard.simulatedRitualData.length;
            const inProgress = RiteNestDashboard.simulatedRitualData.filter(r => r.status === 'In Progress' || r.status === 'Pending Review').length;
            const completed = RiteNestDashboard.simulatedRitualData.filter(r => r.status === 'Documented' || r.status === 'Verified').length;

            document.getElementById('docProgressTotalEntries').textContent = total;
            document.getElementById('docProgressInProgress').textContent = inProgress;
            document.getElementById('docProgressCompletedVerified').textContent = completed;
        };

        RiteNestDashboard.populateProgressTable = function() {
            const tableBody = document.getElementById('docProgressTableBody');
            if (!tableBody) return;

            tableBody.innerHTML = ''; // Clear existing rows

            RiteNestDashboard.simulatedRitualData.forEach(ritual => {
                const row = document.createElement('tr');
                row.className = 'border-b border-gray-200 hover:bg-gray-100';

                let statusClass = '';
                if (ritual.status === 'Verified') {
                    statusClass = 'bg-green-200 text-green-800';
                } else if (ritual.status === 'In Progress') {
                    statusClass = 'bg-yellow-200 text-yellow-800';
                } else if (ritual.status === 'Pending Review') {
                    statusClass = 'bg-red-200 text-red-800';
                } else if (ritual.status === 'Documented') {
                    statusClass = 'bg-blue-200 text-blue-800';
                }

                row.innerHTML = `
                    <td class="py-3 px-6 text-left whitespace-nowrap">${ritual.name}</td>
                    <td class="py-3 px-6 text-left">${ritual.type}</td>
                    <td class="py-3 px-6 text-left"><span class="py-1 px-3 rounded-full text-xs ${statusClass}">${ritual.status}</span></td>
                    <td class="py-3 px-6 text-left">${ritual.lastUpdated}</td>
                    <td class="py-3 px-6 text-center">
                        <button class="text-blue-500 hover:text-blue-700 text-sm" onclick="alert('Simulating view details for ${ritual.name}')">View</button>
                    </td>
                `;
                tableBody.appendChild(row);
            });
        };

        RiteNestDashboard.updateRitualTypeChart = function() {
            const ctx = document.getElementById('ritenestRitualTypeChart')?.getContext('2d');
            if (!ctx) return;

            const counts = {};
            RiteNestDashboard.simulatedRitualData.forEach(ritual => {
                counts[ritual.type] = (counts[ritual.type] || 0) + 1;
            });

            const labels = Object.keys(counts);
            const data = Object.values(counts);
            const colors = ['#065f46', '#34d399', '#a7f3d0', '#6ee7b7']; // Greens for RiteNest theme

            if (RiteNestDashboard.ritualTypeChartInstance) {
                RiteNestDashboard.ritualTypeChartInstance.destroy();
            }

            RiteNestDashboard.ritualTypeChartInstance = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: labels.map((_, i) => colors[i % colors.length]),
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#1f2937' // Dark gray for text
                            }
                        },
                        title: {
                            display: false
                        }
                    }
                }
            });
        };

        RiteNestDashboard.updateDocumentationProgressChart = function() {
            const ctx = document.getElementById('ritenestDocumentationProgressChart')?.getContext('2d');
            if (!ctx) return;

            const statusCounts = {};
            RiteNestDashboard.simulatedRitualData.forEach(ritual => {
                statusCounts[ritual.status] = (statusCounts[ritual.status] || 0) + 1;
            });

            const labels = ['Documented', 'In Progress', 'Verified', 'Pending Review'];
            const data = [
                statusCounts['Documented'] || 0,
                statusCounts['In Progress'] || 0,
                statusCounts['Verified'] || 0,
                statusCounts['Pending Review'] || 0
            ];
            const colors = ['#059669', '#facc15', '#10b981', '#ef4444']; // Green, Yellow, Teal, Red

            if (RiteNestDashboard.documentationProgressChartInstance) {
                RiteNestDashboard.documentationProgressChartInstance.destroy();
            }

            RiteNestDashboard.documentationProgressChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Number of Rituals',
                        data: data,
                        backgroundColor: colors,
                        borderColor: colors,
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            ticks: {
                                color: '#1f2937'
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#1f2937'
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        }
                    }
                }
            });
        };

        RiteNestDashboard.updateOverallStatusChart = function() {
            const ctx = document.getElementById('overallStatusChart')?.getContext('2d');
            if (!ctx) return;

            const documentedCount = RiteNestDashboard.simulatedRitualData.filter(r => r.status === 'Documented').length;
            const inProgressCount = RiteNestDashboard.simulatedRitualData.filter(r => r.status === 'In Progress').length;
            const verifiedCount = RiteNestDashboard.simulatedRitualData.filter(r => r.status === 'Verified').length;
            const pendingReviewCount = RiteNestDashboard.simulatedRitualData.filter(r => r.status === 'Pending Review').length;

            const labels = ['Documented', 'In Progress', 'Verified', 'Pending Review'];
            const data = [documentedCount, inProgressCount, verifiedCount, pendingReviewCount];
            const colors = ['#059669', '#facc15', '#10b981', '#ef4444']; // Green, Yellow, Teal, Red

            if (RiteNestDashboard.overallStatusChartInstance) {
                RiteNestDashboard.overallStatusChartInstance.destroy();
            }

            RiteNestDashboard.overallStatusChartInstance = new Chart(ctx, {
                type: 'pie',
                data: {
                    labels: labels,
                    datasets: [{
                        data: data,
                        backgroundColor: colors,
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                color: '#1f2937'
                            }
                        },
                        title: {
                            display: false
                        }
                    }
                }
            });
        };

        RiteNestDashboard.updateMonthlyRateChart = function() {
            const ctx = document.getElementById('monthlyRateChart')?.getContext('2d');
            if (!ctx) return;

            // Simulated monthly data for the last 6 months
            const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];
            const newRitualsAdded = [5, 8, 12, 10, 7, 15]; // Example data

            if (RiteNestDashboard.monthlyRateChartInstance) {
                RiteNestDashboard.monthlyRateChartInstance.destroy();
            }

            RiteNestDashboard.monthlyRateChartInstance = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: months,
                    datasets: [{
                        label: 'New Rituals Documented',
                        data: newRitualsAdded,
                        borderColor: '#065f46',
                        backgroundColor: 'rgba(6, 95, 70, 0.2)',
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            ticks: {
                                color: '#1f2937'
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            ticks: {
                                color: '#1f2937'
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        }
                    }
                }
            });
        };

        // RiteNest TotemTrack Section Functions
        RiteNestDashboard.handleAddTotemForm = function(event) {
            event.preventDefault();
            const totemName = document.getElementById('totemName').value.trim();
            const totemDescription = document.getElementById('totemDescription').value.trim();
            const totemOrigin = document.getElementById('totemOrigin').value.trim();
            // const totemImageFile = document.getElementById('totemImage').files[0]; // For real upload

            if (!totemName) {
                alert('Totem Name is required!');
                return;
            }

            const newTotem = {
                id: `t${Date.now()}`,
                name: totemName,
                description: totemDescription,
                origin: totemOrigin,
                // imageUrl: totemImageFile ? 'simulated-url-for-uploaded-image.jpg' : '' // For real upload
            };
            RiteNestDashboard.simulatedTotems.push(newTotem);
            RiteNestDashboard.renderTotemList();
            alert('Simulating: Totem record added. In a real app, this would save to Firestore.');
            document.getElementById('addTotemForm').reset();
        };

        RiteNestDashboard.renderTotemList = function() {
            const totemListContainer = document.getElementById('totemList');
            if (!totemListContainer) return;

            totemListContainer.innerHTML = '';
            if (RiteNestDashboard.simulatedTotems.length === 0) {
                totemListContainer.innerHTML = '<p class="text-gray-600 text-center">No totems documented yet. Add one above!</p>';
                return;
            }

            RiteNestDashboard.simulatedTotems.forEach(totem => {
                const card = document.createElement('div');
                card.className = 'ritenest-subnode-card p-4 rounded-lg flex items-center justify-between';
                card.innerHTML = `
                    <div>
                        <p class="font-semibold text-gray-800">${totem.name}</p>
                        <p class="text-gray-600 text-sm">${totem.description}</p>
                    </div>
                    <button class="ritenest-primary-btn px-4 py-2 rounded-md text-sm" onclick="alert('Simulating: Viewing details for ${totem.name}.')">View Details</button>
                `;
                totemListContainer.appendChild(card);
            });
        };

        // RiteNest VaultSpirit Section Functions
        RiteNestDashboard.handleUploadMediaForm = function(event) {
            event.preventDefault();
            const mediaTitle = document.getElementById('mediaTitle').value.trim();
            const mediaType = document.getElementById('mediaType').value;
            const mediaDescription = document.getElementById('mediaDescription').value.trim();
            // const mediaFile = document.getElementById('mediaFile').files[0]; // For real upload

            if (!mediaTitle || !mediaType) {
                alert('Media Title and Type are required!');
                return;
            }

            const newMedia = {
                id: `m${Date.now()}`,
                title: mediaTitle,
                type: mediaType,
                description: mediaDescription,
                url: `https://placehold.co/200x150/065f46/d1fae5?text=${mediaType}` // Simulated URL
            };
            RiteNestDashboard.simulatedMedia.push(newMedia);
            RiteNestDashboard.renderMediaList();
            alert('Simulating: Media uploaded. In a real app, this would use Firebase Storage.');
            document.getElementById('uploadMediaForm').reset();
        };

        RiteNestDashboard.renderMediaList = function() {
            const mediaListContainer = document.getElementById('mediaList');
            if (!mediaListContainer) return;

            mediaListContainer.innerHTML = '';
            if (RiteNestDashboard.simulatedMedia.length === 0) {
                mediaListContainer.innerHTML = '<p class="text-gray-600 text-center">No media vaulted yet. Upload some above!</p>';
                return;
            }

            RiteNestDashboard.simulatedMedia.forEach(media => {
                const card = document.createElement('div');
                card.className = 'ritenest-subnode-card p-4 rounded-lg flex items-center justify-between';
                card.innerHTML = `
                    <div>
                        <p class="font-semibold text-gray-800">${media.title} (${media.type})</p>
                        <p class="text-gray-600 text-sm">${media.description}</p>
                    </div>
                    <button class="ritenest-primary-btn px-4 py-2 rounded-md text-sm" onclick="alert('Simulating: Playing/Viewing ${media.title}.')">Play/View</button>
                `;
                mediaListContainer.appendChild(card);
            });
        };

        // RiteNest GlyphTag Section Functions
        RiteNestDashboard.handleVerifyProvenanceForm = function(event) {
            event.preventDefault();
            const hashInput = document.getElementById('provenanceHashInput').value.trim();
            const resultDisplay = document.getElementById('verificationResult');

            if (!hashInput) {
                resultDisplay.textContent = 'Please enter a hash to verify.';
                return;
            }

            const found = RiteNestDashboard.simulatedProvenanceRecords.find(record => record.hash === hashInput);
            if (found) {
                resultDisplay.innerHTML = `
                    <p class="text-green-600 font-bold">Hash Verified! <i class="fas fa-check-circle"></i></p>
                    <p class="text-sm mt-2">Content ID: ${found.contentId}</p>
                    <p class="text-sm">Event: ${found.event}</p>
                    <p class="text-sm">Timestamp: ${found.timestamp}</p>
                `;
            } else {
                resultDisplay.innerHTML = `
                    <p class="text-red-600 font-bold">Hash Not Found or Invalid. <i class="fas fa-times-circle"></i></p>
                    <p class="text-sm mt-2">This hash does not match any known provenance record.</p>
                `;
            }
        };

        RiteNestDashboard.handleGenerateGlyphTagForm = function(event) {
            event.preventDefault();
            const contentId = document.getElementById('contentIdToTag').value.trim();
            const description = document.getElementById('taggingDescription').value.trim();
            const generatedHashDisplay = document.getElementById('generatedHash');

            if (!contentId) {
                alert('Content ID is required to generate a GlyphTag!');
                return;
            }

            const newHash = `0x${Math.random().toString(16).substring(2, 10)}${Math.random().toString(16).substring(2, 10)}${Math.random().toString(16).substring(2, 10)}${Math.random().toString(16).substring(2, 10)}`;
            const newRecord = {
                id: `p${Date.now()}`,
                contentId: contentId,
                event: description || 'New GlyphTag generated',
                timestamp: new Date().toLocaleString(),
                hash: newHash
            };
            RiteNestDashboard.simulatedProvenanceRecords.push(newRecord);
            generatedHashDisplay.innerHTML = `
                <p class="text-green-600 font-bold">GlyphTag Generated! <i class="fas fa-check-circle"></i></p>
                <code class="block text-ritenest-text-accent break-all text-sm mt-1">${newHash}</code>
                <p class="text-xs text-gray-600 mt-2">Record saved (simulated).</p>
            `;
            document.getElementById('generateGlyphTagForm').reset();
            // Optionally, re-render the provenance chain display if it's dynamic
        };

        RiteNestDashboard.renderProvenanceChainDisplay = function() {
            const chainDisplay = document.getElementById('provenanceChainDisplay');
            if (!chainDisplay) return;

            chainDisplay.innerHTML = '';
            if (RiteNestDashboard.simulatedProvenanceRecords.length === 0) {
                chainDisplay.innerHTML = '<p class="text-gray-600 text-center">No provenance records to display. Generate a GlyphTag!</p>';
                return;
            }

            RiteNestDashboard.simulatedProvenanceRecords.forEach(record => {
                const step = document.createElement('div');
                step.className = 'ritenest-provenance-step';
                step.innerHTML = `
                    <p class="font-semibold text-gray-800">Content ID: ${record.contentId}</p>
                    <p class="text-gray-600 text-sm">Event: ${record.event}</p>
                    <p class="text-gray-600 text-sm">Timestamp: ${record.timestamp}</p>
                    <p class="text-gray-600 text-xs mt-1">Hash: <code>${record.hash}</code></p>
                `;
                chainDisplay.appendChild(step);
            });
        };


        // RiteNest ScrollLoop Section Functions
        RiteNestDashboard.handleNewDiscussionForm = function(event) {
            event.preventDefault();
            const postTitle = document.getElementById('postTitle').value.trim();
            const postContent = document.getElementById('postContent').value.trim();

            if (!postTitle || !postContent) {
                alert('Discussion Title and Content are required!');
                return;
            }

            const newPost = {
                id: `d${Date.now()}`,
                title: postTitle,
                author: 'Current User (Simulated)', // In real app, use actual user name
                timestamp: 'Just now',
                content: postContent,
                likes: 0,
                comments: 0
            };
            RiteNestDashboard.simulatedDiscussionPosts.unshift(newPost); // Add to the beginning
            RiteNestDashboard.renderDiscussionPosts();
            alert('Simulating: New discussion post created.');
            document.getElementById('newDiscussionForm').reset();
        };

        RiteNestDashboard.renderDiscussionPosts = function() {
            const postsContainer = document.getElementById('discussionPosts');
            if (!postsContainer) return;

            postsContainer.innerHTML = '';
            if (RiteNestDashboard.simulatedDiscussionPosts.length === 0) {
                postsContainer.innerHTML = '<p class="text-gray-600 text-center">No discussions yet. Start one above!</p>';
                return;
            }

            RiteNestDashboard.simulatedDiscussionPosts.forEach(post => {
                const postElement = document.createElement('div');
                postElement.className = 'ritenest-discussion-post';
                postElement.innerHTML = `
                    <h4 class="text-xl font-bold text-gray-800 mb-2">${post.title}</h4>
                    <p class="text-gray-700 text-sm mb-3">By: ${post.author} - ${post.timestamp}</p>
                    <p class="text-gray-600">"${post.content}"</p>
                    <div class="mt-4 text-right">
                        <button class="text-blue-500 hover:text-blue-700 text-sm mr-4" onclick="alert('Simulating: Viewing comments for ${post.title}.')">View Comments (${post.comments})</button>
                        <button class="text-green-500 hover:text-green-700 text-sm" onclick="alert('Simulating: Liking post ${post.title}.')"><i class="fas fa-thumbs-up"></i> ${post.likes}</button>
                    </div>
                `;
                postsContainer.appendChild(postElement);
            });
        };

        RiteNestDashboard.renderLearningResources = function() {
            const resourcesContainer = document.getElementById('learningResources');
            if (!resourcesContainer) return;

            resourcesContainer.innerHTML = '';
            if (RiteNestDashboard.simulatedLearningResources.length === 0) {
                resourcesContainer.innerHTML = '<p class="text-gray-600 text-center">No learning resources available yet.</p>';
                return;
            }

            RiteNestDashboard.simulatedLearningResources.forEach(resource => {
                const card = document.createElement('div');
                card.className = 'ritenest-subnode-card p-4 rounded-lg';
                card.innerHTML = `
                    <h4 class="text-xl font-bold text-gray-800 mb-2">${resource.title}</h4>
                    <p class="text-gray-600 text-sm mb-3">
                        ${resource.type}: ${resource.date || resource.format} | ${resource.speaker ? `Speaker: ${resource.speaker}` : `Author: ${resource.author}`}
                    </p>
                    <p class="text-gray-600">${resource.description}</p>
                    <button class="ritenest-primary-btn px-4 py-2 rounded-md text-sm mt-4" onclick="alert('Simulating: ${resource.action} for ${resource.title}.')">
                        ${resource.action}
                    </button>
                `;
                resourcesContainer.appendChild(card);
            });
        };


        // --- Initial Load Functions ---
        document.addEventListener('DOMContentLoaded', () => {
            // Firebase Initialization (existing from previous dashboard)
            if (Object.keys(firebaseConfig).length > 0) {
                app = initializeApp(firebaseConfig);
                db = getFirestore(app);
                auth = getAuth(app);

                onAuthStateChanged(auth, async (user) => {
                    if (user) {
                        userId = user.uid;
                        console.log("Firebase Auth: Signed in as", userId);
                        // Here you would set up Firestore listeners for RiteNest specific collections
                        // e.g., onSnapshot(collection(db, `artifacts/${appId}/users/${userId}/ritenest/rituals`), (snapshot) => { /* update RiteNestDashboard.simulatedRitualData */ });
                        // For this demo, we'll continue using local simulated data.
                    } else {
                        // Attempt custom token or anonymous sign-in if no user
                        if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                            try { await signInWithCustomToken(auth, __initial_auth_token); } catch (error) { console.warn("Firebase Auth: Custom token sign-in failed.", error); await signInAnonymously(auth); }
                        } else {
                            await signInAnonymously(auth);
                        }
                    }
                });
            } else {
                console.warn("Firebase config not found. Running in demo mode without persistence.");
            }


            // Initialize landing page features
            updateSharePrice();
            setInterval(updateSharePrice, 9000); // Update share price every 9 seconds
            initializeBrandChart();

            // Set up main section navigation listeners
            document.querySelectorAll('.header-nav-item').forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault(); // Prevent default anchor behavior
                    const sectionId = link.dataset.sectionId;
                    if (sectionId) {
                        showMainSection(sectionId);
                    }
                });
            });

            // Set up RiteNest internal tab navigation listeners
            document.querySelectorAll('#ritenest-full-dashboard-section .ritenest-tab-nav-item').forEach(button => {
                button.addEventListener('click', () => {
                    RiteNestDashboard.switchTab(button.dataset.ritenestTab);
                });
            });

            // Initial render of RiteNest sections
            RiteNestDashboard.updateOverviewMetrics();
            RiteNestDashboard.updateRitualTypeChart(); // For Overview section
            RiteNestDashboard.updateDocumentationProgressChart(); // For Overview section

            RiteNestDashboard.updateProgressMetrics();
            RiteNestDashboard.populateProgressTable();
            RiteNestDashboard.updateOverallStatusChart(); // For Documentation Progress section
            RiteNestDashboard.updateMonthlyRateChart(); // For Documentation Progress section

            RiteNestDashboard.renderTotemList();
            document.getElementById('addTotemForm')?.addEventListener('submit', RiteNestDashboard.handleAddTotemForm);

            RiteNestDashboard.renderMediaList();
            document.getElementById('uploadMediaForm')?.addEventListener('submit', RiteNestDashboard.handleUploadMediaForm);

            RiteNestDashboard.renderProvenanceChainDisplay();
            document.getElementById('verifyProvenanceForm')?.addEventListener('submit', RiteNestDashboard.handleVerifyProvenanceForm);
            document.getElementById('generateGlyphTagForm')?.addEventListener('submit', RiteNestDashboard.handleGenerateGlyphTagForm);

            RiteNestDashboard.renderDiscussionPosts();
            RiteNestDashboard.renderLearningResources();
            document.getElementById('newDiscussionForm')?.addEventListener('submit', RiteNestDashboard.handleNewDiscussionForm);

            // Show the default landing page section
            showMainSection('hero-section');
            // Ensure the initial active state for Home is correctly applied
            const homeLink = document.querySelector(`.header-nav-item[data-section-id="hero-section"]`);
            if (homeLink) {
                homeLink.classList.add('header-nav-active');
            }
        });
    </script>
</body>
</html>
